"use strict";(()=>{var t={};t.id=9530,t.ids=[9530],t.modules={62418:t=>{t.exports=require("mysql2/promise")},20145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9926:t=>{t.exports=import("zod")},39766:(t,e)=>{Object.defineProperty(e,"l",{enumerable:!0,get:function(){return function t(e,n){return n in e?e[n]:"then"in e&&"function"==typeof e.then?e.then(e=>t(e,n)):"function"==typeof e&&"default"===n?e:void 0}}})},54860:(t,e,n)=>{n.a(t,async(t,r)=>{try{n.r(e),n.d(e,{config:()=>c,default:()=>d,routeModule:()=>P});var i=n(54396),a=n(76255),s=n(39766),o=n(57829),u=t([o]);o=(u.then?(await u)():u)[0];let d=(0,s.l)(o,"default"),c=(0,s.l)(o,"config"),P=new i.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/admin/db",pathname:"/api/admin/db",bundlePath:"",filename:""},userland:o});r()}catch(t){r(t)}})},57829:(t,e,n)=>{n.a(t,async(t,r)=>{try{n.r(e),n.d(e,{default:()=>o});var i=n(62418),a=n(94164),s=t([a]);a=(s.then?(await s)():s)[0];let o=async(t,e)=>{let{method:n}=t;if("POST"===n)try{let{DB_DATABASE:n,DB_HOST:r,DB_PASSWORD:s,DB_PORT:o,DB_USER:u}=a.z.parse(t.body),d=await (0,i.createConnection)({host:r,user:u,password:s,database:n,port:parseInt(o)});return await d.end(),e.status(200).send("ok")}catch(t){return error(t),e.status(500).json(t)}return e.status(405).end()};r()}catch(t){r(t)}})},94164:(t,e,n)=>{n.a(t,async(t,r)=>{try{n.d(e,{Z:()=>u,z:()=>o});var i=n(9926),a=t([i]);let s=(i=(a.then?(await a)():a)[0]).z.object({STEAM_API_KEY:i.z.string().min(1),SESSION_SECRET:i.z.string().min(1).optional(),DOMAIN:i.z.string().min(1),DB_HOST:i.z.string().min(1),DB_USER:i.z.string().min(1),DB_PASSWORD:i.z.string().min(1),DB_DATABASE:i.z.string().min(1),DB_PORT:i.z.string().min(1),MASTER_ADMIN:i.z.string().min(1)}),o=i.z.object({DB_HOST:i.z.string().min(1),DB_USER:i.z.string().min(1),DB_PASSWORD:i.z.string().min(1),DB_DATABASE:i.z.string().min(1),DB_PORT:i.z.string().min(1)}),u=s;r()}catch(t){r(t)}})},76255:(t,e)=>{var n;Object.defineProperty(e,"x",{enumerable:!0,get:function(){return n}}),function(t){t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE"}(n||(n={}))},54396:(t,e,n)=>{t.exports=n(20145)}};var e=require("../../../webpack-api-runtime.js");e.C(t);var n=e(e.s=54860);module.exports=n})();