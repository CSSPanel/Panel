(()=>{var e={};e.id=9589,e.ids=[9589],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},95346:e=>{"use strict";e.exports=require("timers")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},15673:e=>{"use strict";e.exports=require("node:events")},70612:e=>{"use strict";e.exports=require("node:os")},97742:e=>{"use strict";e.exports=require("node:process")},25997:e=>{"use strict";e.exports=require("node:tty")},8253:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u}),t(60161),t(4218),t(35866),t(95167);var s=t(23191),n=t(88716),i=t(37922),a=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let u=["",{children:["(main)",{children:["admin",{children:["(statistics)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,60161)),"/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/(main)/admin/(statistics)/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4218)),"/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/(main)/admin/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,95167)),"/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/(main)/admin/(statistics)/page.tsx"],d="/(main)/admin/(statistics)/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/admin/(statistics)/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},16843:(e,r,t)=>{Promise.resolve().then(t.bind(t,23699))},83417:(e,r,t)=>{Promise.resolve().then(t.bind(t,44128)),Promise.resolve().then(t.bind(t,37001))},23699:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D});var s=t(10326),n=t(22007),i=t(24663),a=t(12747),l=t(4085),o=t(39917);let u=e=>{let r=new Date,t=[];for(let s=0;s<e;s++){let e=new Date(r.getTime()-864e5*s).toISOString().slice(0,10);t.push(e)}return t.reverse()};var c=t(3574),d=t(33265);let m="hsl(var(--css-primary))",p="hsl(var(--css-secondary))",f={chart:{id:"views-area-chart",foreColor:"#ccc",fontFamily:"inherit",animations:{enabled:!0,dynamicAnimation:{speed:700}},dropShadow:{enabled:!0,opacity:.1,blur:5,left:-7,top:22},toolbar:{show:!1}},xaxis:{axisTicks:{color:"#333"},axisBorder:{color:"#333"}},yaxis:{min:0,tickAmount:10},stroke:{curve:"smooth"},colors:[m,p],fill:{colors:[m,p],type:"gradient",gradient:{shadeIntensity:0,opacityFrom:.1,opacityTo:0}},markers:{size:5,hover:{size:7}},dataLabels:{style:{colors:[m]}}},x=(0,d.default)(async()=>{},{loadableGenerated:{modules:["app/UI/Layouts/Main/Charts/Area/index.tsx -> react-apexcharts"]},ssr:!1}),h=({categories:e,data:r,isLoading:t,height:n,options:i})=>{let{theme:a,systemTheme:o}=(0,c.F)(),u={tooltip:{theme:a?.split("-")[0]||o}},d={...f,...i,...u,xaxis:{categories:e}};return t?s.jsx(l.c,{}):s.jsx("div",{className:"relative text-foreground-500",children:s.jsx(x,{options:d,series:r,type:"area",width:"100%",maxWidth:"100%",height:n})})},v=(0,t(60114).Ue)(e=>({serversMode:"ALL",setServersMode:r=>e({serversMode:r}),servers:[],setServers:r=>e({servers:r}),days:"3",setDays:r=>e({days:r})}));var b=t(68045),g=t(76694),y=t(95047),j=t(84288),P=t(49972),w=t(459),S=t(6664),q=t(89507),A=t(66025),_=t(58838);let L=()=>{let{data:e}=(0,_.ZP)("/api/servers",A.Z),r=v(e=>e.days),t=v(e=>e.setDays),n=v(e=>e.serversMode),i=v(e=>e.setServersMode),a=v(e=>e.servers),l=v(e=>e.setServers);return(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[s.jsx(q.Y,{label:"Days",labelPlacement:"outside-left",size:"sm",width:30,min:1,max:365,type:"number",variant:"faded",color:"secondary",value:r,onValueChange:t}),(0,s.jsxs)(P.n,{"aria-label":"Servers",selectedKey:n,onSelectionChange:e=>{i(e),"ALL"===e&&l([])},color:"primary",children:[s.jsx(w.r,{title:"All servers"},"ALL"),s.jsx(w.r,{title:"Selected servers"},"SELECTED")]}),(0,s.jsxs)(b.F,{children:[s.jsx(g.S,{children:(0,s.jsxs)(S.A,{isDisabled:!e||"ALL"===n,color:"primary",size:"sm",children:["Servers: ",a.length]})}),s.jsx(y.a,{"aria-label":"Servers",items:e,closeOnSelect:!1,selectionMode:"multiple",selectedKeys:new Set([...a??[]]),onSelectionChange:e=>l(Array.from(e)),disallowEmptySelection:!0,children:e=>s.jsx(j.W,{id:e.id.toString(),color:"default",children:e.hostname},e.id)})]})]})},M=()=>{let e=v(e=>e.serversMode),r=v(e=>e.servers),t=v(e=>e.days),[c]=(0,o.Nr)(t,500),d=u(parseInt(t)),{data:m,isLoading:p}=(0,_.ZP)(`/api/admin/statistics?days=${parseInt(c)}&servers=${"ALL"===e?"ALL":r.join(",")}`,A.Z);return(0,s.jsxs)(n.w,{children:[(0,s.jsxs)(i.u,{className:"text-2xl font-medium flex flex-row justify-between",children:["Unique Servers Entries",s.jsx(L,{})]}),s.jsx(a.G,{children:p?(0,s.jsxs)("div",{className:"flex items-center gap-4 justify-center min-h-unit-10",children:[s.jsx(l.c,{size:"sm"})," Loading data..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(h,{height:300,categories:d,data:[{data:m?.serversUnique.map(e=>e.number),name:"Players"}]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Advanced statistics and features such as searching for players by IP, SteamId, date, etc. will be available as a separate module in the future."})]})})]})},C=()=>{let e=v(e=>e.serversMode),r=v(e=>e.servers),t=v(e=>e.days),[c]=(0,o.Nr)(t,500),d=u(parseInt(t)),{data:m,isLoading:p}=(0,_.ZP)(`/api/admin/statistics?days=${parseInt(c)}&servers=${"ALL"===e?"ALL":r.join(",")}`,A.Z);return(0,s.jsxs)(n.w,{children:[(0,s.jsxs)(i.u,{className:"text-2xl font-medium flex flex-row justify-between",children:["Servers Entries",s.jsx(L,{})]}),s.jsx(a.G,{children:p?(0,s.jsxs)("div",{className:"flex items-center gap-4 justify-center min-h-unit-10",children:[s.jsx(l.c,{size:"sm","aria-label":"Loading..."})," ","Loading data..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(h,{height:300,categories:d,data:[{data:m?.servers.map(e=>e.number),name:"Entries"}]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Advanced statistics and features such as searching for players by IP, SteamId, date, etc. will be available as a separate module in the future."})]})})]})},D=()=>(0,s.jsxs)(P.n,{"aria-label":"Servers",children:[s.jsx(w.r,{title:"Servers Entries",children:s.jsx(C,{})},"servers"),s.jsx(w.r,{title:"Servers Entries Unique",children:s.jsx(M,{})},"unique-servers")]})},44128:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var s=t(10326),n=t(4085),i=t(35047),a=t(17577),l=t(58522);let o=({children:e,flags:r})=>{let{admin:t,isLoading:o}=(0,l.ZP)(),u=(0,i.useRouter)();return(0,a.useEffect)(()=>{if(!o&&(!t||r.length>0&&!r.some(e=>t.flags?.includes(e))))return u.push("/")},[t,o,u,r]),o?s.jsx(n.c,{}):t?s.jsx(s.Fragment,{children:e}):s.jsx(s.Fragment,{children:"No Access"})}},37001:(e,r,t)=>{"use strict";t.d(r,{default:()=>u,r:()=>c});var s=t(10326),n=t(94237),i=t(35047),a=t(49972),l=t(459),o=t(58522);let u=()=>{let e=(0,i.usePathname)(),r=(0,i.useRouter)(),{admin:t}=(0,o.ZP)(),u=t?.flags||[],d=(0,n.k)(e=>e.modules),m=c.filter(e=>e.permissions.some(e=>u.includes(e))).filter(e=>{if(e.module){let r=d.find(r=>r.identifier===e.module);if(!r||!r.enabled)return!1}return!0});return s.jsx(a.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>r.push(e),items:m,children:e=>s.jsx(l.r,{title:e.title},e.path)})},c=[{path:"/admin",title:"Statistics",permissions:["@web/root","@web/logs","@css/root","@web/stats"]},{path:"/admin/modules",title:"Modules",permissions:["@web/root","@css/root"]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers","@web/rcon"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/advertisements",title:"Advertisements (module)",permissions:["@web/root","@css/root","@web/logs"],module:"advertisements"},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},33265:(e,r,t)=>{"use strict";t.d(r,{default:()=>n.a});var s=t(43353),n=t.n(s)},43353:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let s=t(91174);t(10326),t(17577);let n=s._(t(77028));function i(e,r){var t;let s={loading:e=>{let{error:r,isLoading:t,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let i={...s,...r};return(0,n.default)({...i,modules:null==(t=i.loadableGenerated)?void 0:t.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},933:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=t(94129);function n(e){let{reason:r,children:t}=e;throw new s.BailoutToCSRError(r)}},77028:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return u}});let s=t(10326),n=t(17577),i=t(933),a=t(46618);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},u=function(e){let r={...o,...e},t=(0,n.lazy)(()=>r.loader().then(l)),u=r.loading;function c(e){let l=u?(0,s.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,o=r.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.PreloadCss,{moduleIds:r.modules}),(0,s.jsx)(t,{...e})]}):(0,s.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(t,{...e})});return(0,s.jsx)(n.Suspense,{fallback:l,children:o})}return c.displayName="LoadableComponent",c}},46618:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadCss",{enumerable:!0,get:function(){return i}});let s=t(10326),n=t(54580);function i(e){let{moduleIds:r}=e,t=(0,n.getExpectedRequestStore)("next/dynamic css"),i=[];if(t.reactLoadableManifest&&r){let e=t.reactLoadableManifest;for(let t of r){if(!e[t])continue;let r=e[t].files.filter(e=>e.endsWith(".css"));i.push(...r)}}return 0===i.length?null:(0,s.jsx)(s.Fragment,{children:i.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},39917:(e,r,t)=>{"use strict";t.d(r,{Nr:()=>a});var s=t(17577);function n(e,r){return e===r}function i(e,r){return r}function a(e,r,t){var a=t&&t.equalityFn||n,l=(0,s.useReducer)(i,e),o=l[0],u=l[1],c=function(e,r,t){var n=this,i=(0,s.useRef)(null),a=(0,s.useRef)(0),l=(0,s.useRef)(null),o=(0,s.useRef)([]),u=(0,s.useRef)(),c=(0,s.useRef)(),d=(0,s.useRef)(e),m=(0,s.useRef)(!0);d.current=e;var p="undefined"!=typeof window,f=!r&&0!==r&&p;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var x=!!(t=t||{}).leading,h=!("trailing"in t)||!!t.trailing,v="maxWait"in t,b="debounceOnServer"in t&&!!t.debounceOnServer,g=v?Math.max(+t.maxWait||0,r):null;return(0,s.useEffect)(function(){return m.current=!0,function(){m.current=!1}},[]),(0,s.useMemo)(function(){var e=function(e){var r=o.current,t=u.current;return o.current=u.current=null,a.current=e,c.current=d.current.apply(t,r)},t=function(e,r){f&&cancelAnimationFrame(l.current),l.current=f?requestAnimationFrame(e):setTimeout(e,r)},s=function(e){if(!m.current)return!1;var t=e-i.current;return!i.current||t>=r||t<0||v&&e-a.current>=g},y=function(r){return l.current=null,h&&o.current?e(r):(o.current=u.current=null,c.current)},j=function e(){var n=Date.now();if(s(n))return y(n);if(m.current){var l=r-(n-i.current);t(e,v?Math.min(l,g-(n-a.current)):l)}},P=function(){if(p||b){var d=Date.now(),f=s(d);if(o.current=[].slice.call(arguments),u.current=n,i.current=d,f){if(!l.current&&m.current)return a.current=i.current,t(j,r),x?e(i.current):c.current;if(v)return t(j,r),e(i.current)}return l.current||t(j,r),c.current}};return P.cancel=function(){l.current&&(f?cancelAnimationFrame(l.current):clearTimeout(l.current)),a.current=0,o.current=i.current=u.current=l.current=null},P.isPending=function(){return!!l.current},P.flush=function(){return l.current?y(Date.now()):c.current},P},[x,v,r,g,h,f,p,b])}((0,s.useCallback)(function(e){return u(e)},[u]),r,t),d=(0,s.useRef)(e);return a(d.current,e)||(c(e),d.current=e),[o,c]}},60161:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/(main)/admin/(statistics)/page.tsx#default`)},4218:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o,metadata:()=>l});var s=t(19510),n=t(68570);let i=(0,n.createProxy)(String.raw`/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/(main)/admin/UI/Tabs.tsx#default`);(0,n.createProxy)(String.raw`/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/(main)/admin/UI/Tabs.tsx#ADMIN_TABS`);let a=(0,n.createProxy)(String.raw`/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/(main)/admin/UI/AdminCheck.tsx#default`),l={title:"Admin Panel"},o=({children:e})=>(0,s.jsxs)(a,{flags:["@css/rcon","@css/root","@web/admingroups","@web/admins","@web/bans","@web/logs","@web/mutes","@web/root","@web/servers","@web/stats","@web/rcon"],children:[s.jsx(i,{}),e]})},24663:(e,r,t)=>{"use strict";t.d(r,{u:()=>u});var s=t(82345),n=t(84521),i=t(10420),a=t(87281),l=t(10326),o=(0,n.Gp)((e,r)=>{var t;let{as:n,className:o,children:u,...c}=e,d=(0,i.gy)(r),{slots:m,classNames:p}=(0,s.R)(),f=(0,a.W)(null==p?void 0:p.header,o);return(0,l.jsx)(n||"div",{ref:d,className:null==(t=m.header)?void 0:t.call(m,{class:f}),...c,children:u})});o.displayName="NextUI.CardHeader";var u=o}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[126,9507,6678,5611,3791,7260],()=>t(8253));module.exports=s})();