(()=>{var e={};e.id=110,e.ids=[110],e.modules={846:(e,s,t)=>{Promise.resolve().then(t.bind(t,57461)),Promise.resolve().then(t.bind(t,9854))},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4850:(e,s,t)=>{Promise.resolve().then(t.bind(t,40229))},6367:(e,s,t)=>{"use strict";t.d(s,{P:()=>x});var r=t(29494),i=t(95007),a=t(86326),n=t(31120),l=t(82562);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var d=function(e,s){if("function"==typeof e){e(s);return}e.current=s};let c=function(e,s){var t=(0,l.useRef)();return(0,l.useCallback)(function(r){e.current=r,t.current&&d(t.current,null),t.current=s,s&&d(s,r)},[s])};var u=function(){},m=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],p=l.forwardRef(function(e,s){e.cacheMeasurements,e.maxRows,e.minRows;var t=e.onChange;e.onHeightChange;var r=function(e,s){if(null==e)return{};var t={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(s.indexOf(r)>=0)continue;t[r]=e[r]}return t}(e,m);r.value;var i=c(l.useRef(null),s);return l.useRef(0),l.useRef(),l.createElement("textarea",o({},r,{onChange:void 0===t?u:t,ref:i}))}),h=t(83223),b=(0,a.Rf)(({style:e,minRows:s=3,maxRows:t=8,cacheMeasurements:a=!1,disableAutosize:o=!1,onHeightChange:d,...c},u)=>{let{Component:m,label:b,description:x,startContent:f,endContent:v,hasHelper:g,shouldLabelBeOutside:y,shouldLabelBeInside:j,isInvalid:w,errorMessage:C,getBaseProps:A,getLabelProps:P,getInputProps:k,getInnerWrapperProps:S,getInputWrapperProps:N,getHelperWrapperProps:E,getDescriptionProps:M,getErrorMessageProps:I}=(0,r.G)({...c,ref:u,isMultiline:!0}),[z,R]=(0,l.useState)(s>1),[q,D]=(0,l.useState)(!1),F=b?(0,h.jsx)("label",{...P(),children:b}):null,T=k(),_=o?(0,h.jsx)("textarea",{...T,style:(0,n.v)(T.style,null!=e?e:{})}):(0,h.jsx)(p,{...T,cacheMeasurements:a,"data-hide-scroll":(0,i.sE)(!q),maxRows:t,minRows:s,style:(0,n.v)(T.style,null!=e?e:{}),onHeightChange:(e,r)=>{1===s&&R(e>=2*r.rowHeight),t>s&&D(e>=t*r.rowHeight),null==d||d(e,r)}}),V=(0,l.useMemo)(()=>f||v?(0,h.jsxs)("div",{...S(),children:[f,_,v]}):(0,h.jsx)("div",{...S(),children:_}),[f,T,v,S]);return(0,h.jsxs)(m,{...A(),children:[y?F:null,(0,h.jsxs)("div",{...N(),"data-has-multiple-rows":(0,i.sE)(z),children:[j?F:null,V]}),g?(0,h.jsx)("div",{...E(),children:w&&C?(0,h.jsx)("div",{...I(),children:C}):x?(0,h.jsx)("div",{...M(),children:x}):null}):null]})});b.displayName="NextUI.Textarea";var x=b},7066:e=>{"use strict";e.exports=require("node:tty")},9854:(e,s,t)=>{"use strict";t.d(s,{b:()=>c,default:()=>d});var r=t(83223),i=t(74803),a=t(20405),n=t(11033),l=t(74772),o=t(3980);let d=()=>{let e=(0,a.usePathname)(),s=(0,a.useRouter)(),{admin:t}=(0,o.Ay)(),d=t?.flags||[],u=(0,i.q)(e=>e.modules),m=c.filter(e=>e.permissions.some(e=>d.includes(e))).filter(e=>{if(e.module){let s=u.find(s=>s.identifier===e.module);if(!s||!s.enabled)return!1}return!0});return(0,r.jsx)(n.r,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>s.push(e),items:m,children:e=>(0,r.jsx)(l.i,{title:e.title},e.path)})},c=[{path:"/admin",title:"Statistics",permissions:["@web/root","@web/logs","@css/root","@web/stats"]},{path:"/admin/modules",title:"Modules",permissions:["@web/root","@css/root"]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers","@web/rcon"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/advertisements",title:"Advertisements (module)",permissions:["@web/root","@css/root","@web/logs"],module:"advertisements"},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},23511:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>n});var r=t(14285),i=t(78036),a=t(79515);let n={title:"Admin Panel"},l=({children:e})=>(0,r.jsxs)(a.default,{flags:["@css/rcon","@css/root","@web/admingroups","@web/admins","@web/bans","@web/logs","@web/mutes","@web/root","@web/servers","@web/stats","@web/rcon"],children:[(0,r.jsx)(i.default,{}),e]})},27501:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(40391).A)("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28410:(e,s,t)=>{Promise.resolve().then(t.bind(t,91098))},28829:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(40391).A)("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]])},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30260:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(80095),i=t(68176),a=t(3938),n=t.n(a),l=t(49765),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d={children:["",{children:["(main)",{children:["admin",{children:["advertisements",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,40229)),"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\advertisements\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,23511)),"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,71198,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,8791,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,16860,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58380)),"C:\\Projects\\CSS-Panel\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71198,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,8791,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,16860,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\advertisements\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(main)/admin/advertisements/page",pathname:"/admin/advertisements",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31110:(e,s,t)=>{Promise.resolve().then(t.bind(t,79515)),Promise.resolve().then(t.bind(t,78036))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40229:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(5715).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\CSS-Panel\\\\app\\\\(main)\\\\admin\\\\advertisements\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\advertisements\\page.tsx","default")},41204:e=>{"use strict";e.exports=require("string_decoder")},42157:(e,s,t)=>{"use strict";t.d(s,{Ay:()=>l,Wg:()=>i,d7:()=>a,nS:()=>n});var r=t(46531);let i=[{id:"@css/reservation",description:"Reserved slot access."},{id:"@css/generic",description:"Generic admin."},{id:"@css/kick",description:"Kick other players."},{id:"@css/ban",description:"Ban other players."},{id:"@css/permban",description:"Perma ban other players."},{id:"@css/unban",description:"Remove bans."},{id:"@css/vip",description:"General vip status."},{id:"@css/slay",description:"Slay/harm other players."},{id:"@css/changemap",description:"Change the map or major gameplay features."},{id:"@css/cvar",description:"Change most cvars."},{id:"@css/config",description:"Execute config files."},{id:"@css/chat",description:"Special chat privileges."},{id:"@css/vote",description:"Start or create votes."},{id:"@css/password",description:"Set a password on the server."},{id:"@css/rcon",description:"Use RCON commands."},{id:"@css/cheats",description:"Change sv_cheats or use cheating commands."},{id:"@css/root",description:"Magically enables all flags and ignores immunity values."},{id:"@web/root",description:"Web panel root access."},{id:"@web/admins",description:"Manage web admins."},{id:"@web/admingroups",description:"Manage web admin groups."},{id:"@web/bans",description:"Manage bans."},{id:"@web/mutes",description:"Manage mutes."},{id:"@web/logs",description:"View panel logs."},{id:"@web/stats",description:"View server statistics."},{id:"@web/servers",description:"Manage servers."},{id:"@web/rcon",description:"Manage servers via RCON."}],a=i.map(e=>e.id),n=r.z.string().refine(e=>e.startsWith("@")||e.startsWith("#"),{message:"The flag is not valid"}),l=r.z.object({player_name:r.z.string().min(3).regex(/^[\w\s]+$/),player_steamid:r.z.string().regex(/^7656119\d{10}$/),server_id:r.z.array(r.z.string()).nullable(),servers_groups:r.z.array(r.z.string()).nullable(),flags:r.z.union([r.z.array(n),n]),immunity:r.z.union([r.z.string().min(0).max(100),r.z.number().min(0).max(100)]),ends:r.z.union([r.z.string(),r.z.date()]).nullable()})},48161:e=>{"use strict";e.exports=require("node:os")},54335:(e,s,t)=>{"use strict";t.d(s,{U:()=>d});var r=t(74217),i=t(86326),a=t(81827),n=t(36847),l=t(83223),o=(0,i.Rf)((e,s)=>{var t;let{as:i,className:o,children:d,...c}=e,u=(0,a.zD)(s),{slots:m,classNames:p}=(0,r.f)(),h=(0,n.$)(null==p?void 0:p.body,o);return(0,l.jsx)(i||"div",{ref:u,className:null==(t=m.body)?void 0:t.call(m,{class:h}),...c,children:d})});o.displayName="NextUI.CardBody";var d=o},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57461:(e,s,t)=>{"use strict";t.d(s,{default:()=>o});var r=t(83223),i=t(41673),a=t(20405),n=t(82562),l=t(3980);let o=({children:e,flags:s})=>{let{admin:t,isLoading:o}=(0,l.Ay)(),d=(0,a.useRouter)();return(0,n.useEffect)(()=>{if(!o&&(!t||s.length>0&&!s.some(e=>t.flags?.includes(e))))return d.push("/")},[t,o,d,s]),o?(0,r.jsx)(i.o,{}):t?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(r.Fragment,{children:"No Access"})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66136:e=>{"use strict";e.exports=require("timers")},69432:(e,s,t)=>{"use strict";t.d(s,{d:()=>d});var r=t(74217),i=t(86326),a=t(81827),n=t(36847),l=t(83223),o=(0,i.Rf)((e,s)=>{var t;let{as:i,className:o,children:d,...c}=e,u=(0,a.zD)(s),{slots:m,classNames:p}=(0,r.f)(),h=(0,n.$)(null==p?void 0:p.header,o);return(0,l.jsx)(i||"div",{ref:u,className:null==(t=m.header)?void 0:t.call(m,{class:h}),...c,children:d})});o.displayName="NextUI.CardHeader";var d=o},74075:e=>{"use strict";e.exports=require("zlib")},74217:(e,s,t)=>{"use strict";t.d(s,{f:()=>i,u:()=>r});var[r,i]=(0,t(52465).q)({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"})},78036:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var r=t(5715);let i=(0,r.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\CSS-Panel\\\\app\\\\(main)\\\\admin\\\\UI\\\\Tabs.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\UI\\Tabs.tsx","default");(0,r.registerClientReference)(function(){throw Error("Attempted to call ADMIN_TABS() from the server but ADMIN_TABS is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\UI\\Tabs.tsx","ADMIN_TABS")},78474:e=>{"use strict";e.exports=require("node:events")},79428:e=>{"use strict";e.exports=require("buffer")},79515:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(5715).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\CSS-Panel\\\\app\\\\(main)\\\\admin\\\\UI\\\\AdminCheck.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\UI\\AdminCheck.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83044:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var r=t(83223),i=t(88751),a=t(5289),n=t(549),l=t(25615),o=t(19206),d=t(68458);let c=({open:e,title:s,text:t,onAction:c,onCancel:u})=>(0,r.jsx)(a.Y,{isOpen:e,onOpenChange:u,children:(0,r.jsx)(n.g,{children:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.c,{className:"flex flex-col gap-1",children:s}),(0,r.jsx)(o.h,{children:t}),(0,r.jsxs)(d.q,{children:[(0,r.jsx)(i.T,{color:"default",variant:"flat",onPress:e,children:"Cancel"}),(0,r.jsx)(i.T,{color:"primary",type:"submit",onClick:c,children:s})]})]})})})},83997:e=>{"use strict";e.exports=require("tty")},84145:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var r=(0,t(40391).A)("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},88373:(e,s,t)=>{"use strict";t.d(s,{Z:()=>C});var r=t(74217),i=t(82340),a=t(42227),n=(0,i.tv)({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...a.zb],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}}),l=t(82562),o=t(74029),d=t(31120),c=t(77223),u=t(59056),m=t(72078),p=t(86326),h=t(36847),b=t(47903),x=t(95007),f=t(39128),v=t(81827),g=t(54215),y=t(69657),j=t(83223),w=(0,p.Rf)((e,s)=>{let{children:t,context:i,Component:a,isPressable:w,disableAnimation:C,disableRipple:A,getCardProps:P,getRippleProps:k}=function(e){let[s,t]=(0,p.rE)(e,n.variantKeys),{ref:r,as:i,children:a,disableRipple:y=!1,onClick:j,onPress:w,autoFocus:C,className:A,classNames:P,allowTextSelectionOnPress:k=!0,...S}=s,N=(0,v.zD)(r),E=i||(e.isPressable?"button":"div"),M="string"==typeof E,I=(0,h.$)(null==P?void 0:P.base,A),{onClick:z,onClear:R,ripples:q}=(0,g.k)(),D=s=>{e.disableAnimation||y||!N.current||z(s)},{buttonProps:F,isPressed:T}=(0,m.l)({onPress:w,elementType:i,isDisabled:!e.isPressable,onClick:(0,o.c)(j,D),allowTextSelectionOnPress:k,...S},N),{hoverProps:_,isHovered:V}=(0,u.M)({isDisabled:!e.isHoverable,...S}),{isFocusVisible:O,isFocused:B,focusProps:U}=(0,c.o)({autoFocus:C}),L=(0,l.useMemo)(()=>n({...t}),[(0,b.t6)(t)]),W=(0,l.useMemo)(()=>({isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,disableAnimation:e.disableAnimation,fullWidth:e.fullWidth,slots:L,classNames:P}),[L,P,e.isDisabled,e.isFooterBlurred,e.disableAnimation,e.fullWidth]),H=(0,l.useCallback)((s={})=>({ref:N,className:L.base({class:I}),tabIndex:e.isPressable?0:-1,"data-hover":(0,x.sE)(V),"data-pressed":(0,x.sE)(T),"data-focus":(0,x.sE)(B),"data-focus-visible":(0,x.sE)(O),"data-disabled":(0,x.sE)(e.isDisabled),...(0,d.v)(e.isPressable?{...F,...U,role:"button"}:{},e.isHoverable?_:{},(0,f.$)(S,{enabled:M}),(0,f.$)(s))}),[N,L,I,M,e.isPressable,e.isHoverable,e.isDisabled,V,T,O,F,U,_,S]),$=(0,l.useCallback)(()=>({ripples:q,onClear:R}),[q,R]);return{context:W,domRef:N,Component:E,classNames:P,children:a,isHovered:V,isPressed:T,isPressable:e.isPressable,isHoverable:e.isHoverable,disableAnimation:e.disableAnimation,disableRipple:y,handleClick:D,isFocusVisible:O,getCardProps:H,getRippleProps:$}}({...e,ref:s});return(0,j.jsxs)(a,{...P(),children:[(0,j.jsx)(r.u,{value:i,children:t}),w&&!C&&!A&&(0,j.jsx)(y.j,{...k()})]})});w.displayName="NextUI.Card";var C=w},91098:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ei});var r=t(83223),i=t(88373),a=t(69432),n=t(54335),l=t(74803),o=t(3701),d=(0,t(40391).A)("refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),c=t(80032),u=t(18936),m=t(20405),p=t(88751),h=t(9854),b=t(82562);let x=(0,t(9091).vt)(e=>({open:!1,setOpen:s=>e({open:s}),id:null,handleEdit:s=>e({open:!0,id:s}),handleAdd:()=>e({open:!0,id:null}),handleClose:()=>e({id:null,open:!1})}));var f=t(5289),v=t(549),g=t(25615),y=t(19206),j=t(46547),w=t(99191),C=t(42157),A=t(6367),P=t(77262),k=t(77264),S=t(65151),N=t(74549),E=t(34438);let M=()=>{let{data:e,isLoading:s,mutate:t,error:r}=(0,E.Ay)("/api/admin/advertisements",N.A,{keepPreviousData:!0});return{data:e,error:r,mutate:t,isLoading:s||!e&&!r}},I={"{DEFAULT}":"#fdfdfd","{White}":"#fefefe","{DarkRed}":"#f30000","{Green}":"#40ff3f","{LightYellow}":"#dbd46c","{LightBlue}":"#5e98d8","{Olive}":"#a5a500","{Lime}":"#a4fd49","{Red}":"#fa4041","{LightPurple}":"#b681ed","{Purple}":"#d02fe1","{Grey}":"#c4c9cf","{Yellow}":"#eee27e","{Gold}":"#d5a332","{Silver}":"#afc1d5","{Blue}":"#5c98d7","{DarkBlue}":"#4b69fd","{BlueGrey}":"#b0c2d6","{Magenta}":"#f000f0","{LightRed}":"#ea4c4d","{Orange}":"#f5a623"},z=["#fdfdfd","#fefefe","#dbd46c","#5e98d8","#a5a500","#a4fd49","#eee27e","#d5a332","#afc1d5","#5c98d7","#b0c2d6","#c4c9cf","#40ff3f"],R={"{MAPNAME}":"Inserts the map name","{TIME}":"Displays the current time in HH:mm:ss format","{DATE}":"Shows the current date in dd.MM.yyyy format","{SERVERNAME}":"Includes the server hostname","{NAME}":"Inserts the player name","{STEAMID}":"Adds the player Steam ID","{IP}":"Shows the server IP address","{PLAYERCOUNT}":"Shows the Current player count","{PORT}":"Includes the server port number"},q=({addVariable:e})=>(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex gap-1 flex-wrap items-center",children:[(0,r.jsx)("span",{className:"text-sm",children:"Colors:"}),Object.entries(I).map(([s,t])=>(0,r.jsx)(p.T,{onClick:()=>e(s),size:"sm",className:"py-0.5 px-2 h-[unset] text-xs min-w-0",style:{backgroundColor:t,color:z.includes(t)?"black":"white"},children:s},s))]}),(0,r.jsxs)("div",{className:"flex gap-1 flex-wrap items-center",children:[(0,r.jsx)("span",{className:"text-sm",children:"Variables:"}),Object.entries(R).map(([s,t])=>(0,r.jsx)(u.I,{content:t,color:"primary",shadow:"lg",children:(0,r.jsx)(p.T,{onClick:()=>e(s),size:"sm",className:"py-0.5 px-2 h-[unset] min-h-0 text-xs min-w-0",children:s},s)},s))]})]}),D=e=>/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(e),F=({children:e})=>{let s=D(e);return(0,r.jsx)("div",{className:"px-4 py-2 bg-background/50 rounded-lg min-w-52 whitespace-pre",style:{backgroundImage:"url(/image.png)",backgroundPositionY:"100%",backgroundPositionX:"100%",backgroundRepeat:"no-repeat",direction:s?"rtl":"ltr",backgroundSize:"cover"},children:(0,r.jsx)("span",{className:"text-sm shadow-sm font-medium",children:(e=>{let s=Object.keys(I).map(e=>e.slice(1,-1)).join("|"),t=RegExp(`\\{(${s})\\}`,"g"),i=0,a=I["{DEFAULT}"],n=[];return e.replace(t,(s,t,l)=>{l>i&&n.push((0,r.jsx)("span",{style:{color:a},children:e.substring(i,l)},i)),a=I[`{${t}}`]||a,i=l+s.length}),i<e.length&&n.push((0,r.jsx)("span",{style:{color:a,textShadow:"0 0 7px #ffffff91"},children:e.substring(i)},i)),n})(e)})})},T=()=>{let{data:e,isLoading:s,mutate:t,error:r}=(0,E.Ay)("/api/admin/servers",N.A,{keepPreviousData:!0});return{data:e,error:r,mutate:t,isLoading:s||!e&&!r}};var _=t(45034),V=t(61571);let O=()=>{let e=x(e=>e.open),s=x(e=>e.id),t=x(e=>e.handleClose),i=(0,b.useRef)(null),{data:a,mutate:n}=M(),{data:l}=T(),o=null!==s?a?.find(e=>e.id===Number(s)):null,[d,c]=(0,b.useState)(!1),u=(0,S.m)({initialValues:{text:o?o.text:"",location:o?o.location:"chat",flags:o?.flags||"",servers:o?.servers||"",multiply:o?.multiply||1,enabled:"boolean"!=typeof o?.enabled||o.enabled}});console.log(o),(0,b.useEffect)(()=>{o?(u.setFieldValue("text",o.text),u.setFieldValue("location",o.location),u.setFieldValue("flags",o.flags||""),u.setFieldValue("servers",o.servers||""),u.setFieldValue("multiply",o.multiply),u.setFieldValue("enabled",o.enabled)):u.reset()},[o]);let m=async e=>{if(e.preventDefault(),!d){c(!0);try{o&&s?await V.A.put(`/api/admin/advertisements/${s}`,u.values):await V.A.post("/api/admin/advertisements",u.values),await n(),_.Ay.success(o?"Added successfully!":"Edited successfully!"),t(),u.reset()}catch(e){console.error(e),_.Ay.error(o?"Error while updating advertisement!":"Error whilte adding the advertisement!")}finally{c(!1)}}},h=u.values.flags?.split(",").filter(e=>""!==e)||[];return(0,r.jsx)(f.Y,{className:"bg-content1 rounded-3xl relative",shadow:"lg",backdrop:"blur",size:"4xl",isOpen:e,onOpenChange:()=>{d||(t(),u.reset())},classNames:{header:"bg-background/50",body:"py-6"},hideCloseButton:!0,children:(0,r.jsxs)(v.g,{children:[(0,r.jsx)(g.c,{className:"text-2xl font-medium",children:o?"Edit advertisement":"Add advertisement"}),(0,r.jsxs)(y.h,{children:[(0,r.jsx)(F,{children:u.values.text||""}),(0,r.jsxs)("form",{onSubmit:m,className:"flex flex-col gap-4",children:[(0,r.jsx)(A.P,{label:"Text",labelPlacement:"outside",isInvalid:!!u.errors.text,...u.getInputProps("text"),value:u.values.text,ref:i,dir:D(u.values.text)?"rtl":"ltr",maxRows:5}),(0,r.jsx)(q,{addVariable:e=>{let s=i.current;if(s){let t=s.selectionStart,r=s.selectionEnd,i=u.values.text.substring(0,t),a=u.values.text.substring(r,u.values.text.length);u.setValues({text:i+e+a}),setTimeout(()=>{s.setSelectionRange(t+e.length,t+e.length),s.focus()},0)}}}),(0,r.jsx)("hr",{className:"border-content2"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(j.d,{"aria-label":"servers",selectedKeys:new Set(u.values.servers?.split(",")||[]),selectionMode:"multiple",onSelectionChange:e=>{let s=Array.from(e);u.setValues({servers:s.join(",")})},classNames:{popoverContent:"bg-content2"},label:"Servers",labelPlacement:"outside",items:l||[],fullWidth:!0,children:e=>(0,r.jsx)(w.y,{textValue:e.hostname,children:e.hostname},e.id)}),(0,r.jsx)(j.d,{"aria-label":"flags",selectedKeys:new Set(h),classNames:{listbox:"dir-ltr"},selectionMode:"multiple",onSelectionChange:e=>{let s=Array.from(e);u.setValues({flags:s.join(",")})},label:"Flags",labelPlacement:"outside",renderValue:e=>`Flags: ${h.join(", ")}`,items:C.Wg.filter(e=>!e.id.startsWith("@web/")),fullWidth:!0,children:e=>(0,r.jsx)(w.y,{textValue:e.id,children:(0,r.jsxs)("div",{className:"flex gap-2 items-center uppercase",children:[e.id," - ",e.description]})},e.id)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,r.jsx)(P.r,{label:"Multiply",labelPlacement:"outside",type:"number",isInvalid:!!u.errors.multiply,...u.getInputProps("multiply")}),(0,r.jsx)(j.d,{"aria-label":"Location",selectedKeys:new Set([u.values.location]),classNames:{listbox:"dir-ltr"},onSelectionChange:e=>{let s=Array.from(e);u.setValues({location:s[0]})},label:"Location",labelPlacement:"outside",renderValue:e=>u.values.location.toUpperCase(),items:[{key:"chat",label:"Chat"},{key:"center",label:"Center"}],fullWidth:!0,children:e=>(0,r.jsx)(w.y,{textValue:e.key,children:(0,r.jsx)("div",{className:"flex gap-2 items-center uppercase",children:e.label})},e.key)}),(0,r.jsx)(k.A,{isSelected:u.values.enabled,onValueChange:e=>u.setFieldValue("enabled",e),color:"primary",children:"Enabled"})]}),(0,r.jsx)(p.T,{isLoading:d,type:"submit",variant:"solid",color:"primary",children:o?"Edit":"Create"})]})]})]})})};var B=t(57461),U=t(82549),L=t(70568),W=t(15626),H=t(57165),$=t(1918),G=t(7693),K=t(84145),Y=t(27501),X=t(93391),Z=t(28829),J=t(41673),Q=t(33883),ee=t(83044);let es=()=>{let{data:e,isLoading:s,mutate:t}=M(),{data:i}=T(),a=x(e=>e.handleEdit),[n,l]=(0,b.useState)(null),[o,d]=(0,b.useState)(!1),c=async()=>{if(!o&&n){d(!0);try{await V.A.delete(`/api/admin/advertisements/${n}`),await t(),_.Ay.success("Advertisement deleted successfully"),l(null)}catch(e){e instanceof Error&&_.Ay.error(e.message)}d(!1)}};console.log({isDeleting:n});let m=(0,b.useCallback)((e,s)=>{switch(s){case"id":return e.id;case"enabled":return(0,r.jsx)(Q.R,{size:"sm",color:e.enabled?"success":"danger",startContent:e.enabled?(0,r.jsx)(K.A,{size:17}):(0,r.jsx)(Y.A,{size:17}),children:e.enabled?"Enabled":"Disabled"});case"flags":return e.flags?.split(",").length?e.flags.split(",").map(e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("code",{dir:"ltr",children:e},e),(0,r.jsx)("br",{},e)]})):"-";case"multiply":return`x${e.multiply}`;case"servers":{let s=e.servers?.split(",").map(Number);if(!s||!s.length)return"All servers";let t=s.map(e=>i?.find(s=>s.id===e)?.hostname).filter(e=>!!e);return(0,r.jsx)(u.I,{content:(0,r.jsx)("div",{className:"flex flex-col gap-2",children:t.map(e=>(0,r.jsx)("span",{children:e},e))}),color:"primary",children:(0,r.jsxs)("div",{children:[t.length," Servers"]})})}case"text":return(0,r.jsx)(F,{children:e.text||""});case"location":return(0,r.jsx)(Q.R,{size:"sm",color:"chat"===e.location?"primary":"secondary",className:"uppercase",children:e.location});default:return(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(p.T,{size:"sm",color:"danger",onClick:()=>l(e.id),isIconOnly:!0,children:(0,r.jsx)(X.A,{size:16})}),(0,r.jsx)(p.T,{size:"sm",color:"primary",onClick:()=>a(e.id.toString()),startContent:(0,r.jsx)(Z.A,{size:18}),children:"Edit"})]})}},[a,i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(U.j,{"aria-label":"Advertisements table",removeWrapper:!0,children:[(0,r.jsxs)(L.X,{children:[(0,r.jsx)(W.e,{children:"Preview"},"text"),(0,r.jsx)(W.e,{children:"Enabled"},"enabled"),(0,r.jsx)(W.e,{children:"Location"},"location"),(0,r.jsx)(W.e,{children:"Multiply"},"multiply"),(0,r.jsx)(W.e,{children:"Servers"},"servers"),(0,r.jsx)(W.e,{children:"Flags"},"flags"),(0,r.jsx)(W.e,{children:"Actions"},"actions")]}),(0,r.jsx)(H.E,{items:e??[],loadingContent:(0,r.jsx)(J.o,{}),loadingState:s?"loading":"idle",children:e=>(0,r.jsx)($.s,{children:s=>(0,r.jsx)(G.w,{className:"pb-1 pt-2",children:m(e,s)})},e.id.toString())})]}),(0,r.jsx)(ee.A,{onAction:c,onCancel:()=>l(null),open:!!n,title:"Delete advertisement",text:"Are you sure you want to delete this advertisement?"})]})};var et=t(97598),er=t.n(et);let ei=()=>{let e=x(e=>e.handleAdd),[s,t]=(0,b.useState)(!1),f=async()=>{if(!s){t(!0);try{await V.A.post("/api/admin/advertisements/refresh"),_.Ay.success("Adverts synced successfully")}catch(e){e instanceof Error&&_.Ay.error(e.message)}t(!1)}},v=(0,m.usePathname)(),g=h.b.find(e=>e.path===v),[y,j]=(0,c.Mj)("advertisements_installed",!1),w=(0,l.q)(e=>e.modules).find(e=>"advertisements"===e.identifier);return w&&w.enabled?(0,r.jsxs)(B.default,{flags:g?.permissions||[],children:[(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(a.d,{className:"text-2xl font-medium flex flex-row justify-between items-center",children:[(0,r.jsx)("div",{children:"Advertisements"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(p.T,{color:"primary",onClick:e,size:"sm",children:[(0,r.jsx)(o.A,{size:20}),"Add Advertisement"]}),(0,r.jsx)(u.I,{content:"Sync adverts with the server",color:"primary",shadow:"lg",children:(0,r.jsx)(p.T,{color:"secondary",onClick:f,size:"sm",isLoading:s,isIconOnly:!0,children:(0,r.jsx)(d,{size:20})})})]})]}),(0,r.jsxs)(n.U,{children:[(0,r.jsx)(es,{}),(0,r.jsx)(O,{})]})]}),!y&&(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(a.d,{className:"text-2xl font-medium",children:"Installation"}),(0,r.jsxs)(n.U,{children:[(0,r.jsxs)("b",{children:["In order to use the advertisements, you have to add the Advertisement plugin to each of your servers;",(0,r.jsx)("br",{})]}),(0,r.jsxs)("span",{children:["1. Download the latest version here:"," ",(0,r.jsx)(er(),{href:"https://github.com/CSSPanel/Advertisements/releases",target:"_blank",className:"underline",children:"https://github.com/CSSPanel/Advertisements/releases"}),"."]}),(0,r.jsxs)("span",{children:["2. Configure the plugin config with the panel db credentials and the serverId from the"," ",(0,r.jsx)(er(),{href:"/admin/servers",className:"underline",children:"Manage Servers"})," ","page for each server."]}),(0,r.jsxs)("span",{children:["note that you can set the serverId in the plugin config, but also as a convar in your server.cfg (",(0,r.jsx)("code",{className:"inline",children:"css_serverid"}),"), using this convar will override the serverId in the plugin config."]}),(0,r.jsx)("br",{}),"After installing and configuring the plugin, you can start adding advertisements from this page.",(0,r.jsx)(p.T,{color:"primary",size:"sm",className:"mt-4",onClick:()=>j(!0),children:"I have installed the plugin"})]})]})]}):null}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8773,7262,3122,5151,6415,8642,1787,6547,4099],()=>t(30260));module.exports=r})();