(()=>{var e={};e.id=6567,e.ids=[6567],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},70612:e=>{"use strict";e.exports=require("node:os")},97742:e=>{"use strict";e.exports=require("node:process")},25997:e=>{"use strict";e.exports=require("node:tty")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},41218:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>u});var r=t(8605),i=t(1403),a=t(49663),n=t.n(a),o=t(66381),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let u=["",{children:["(main)",{children:["admin",{children:["logs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,15882)),"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\logs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94906)),"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,89672,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,91090)),"C:\\Projects\\CSS-Panel\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,89672,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\logs\\page.tsx"],d="/(main)/admin/logs/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/admin/logs/page",pathname:"/admin/logs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},17667:(e,s,t)=>{Promise.resolve().then(t.bind(t,68888)),Promise.resolve().then(t.bind(t,88547))},33272:(e,s,t)=>{Promise.resolve().then(t.bind(t,40893))},68888:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(98284),i=t(37297),a=t(36065),n=t(22173),o=t(46705);let l=({children:e,flags:s})=>{let{admin:t,isLoading:l}=(0,o.ZP)(),u=(0,a.useRouter)();return(0,n.useEffect)(()=>{if(!l){if(!t)return u.push("/");if(s.length>0&&!s.some(e=>t.flags?.includes(e)))return u.push("/admin")}},[t,l,u,s]),l?r.jsx(i.c,{}):t?r.jsx(r.Fragment,{children:e}):r.jsx(r.Fragment,{children:"No Access"})}},88547:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ADMIN_TABS:()=>l,default:()=>o});var r=t(98284),i=t(36065),a=t(7408),n=t(77003);let o=()=>{let e=(0,i.usePathname)(),s=(0,i.useRouter)();return r.jsx(a.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>s.push(e),items:l,children:e=>r.jsx(n.r,{title:e.title},e.path)})},l=[{path:"/admin",title:"Statistics",permissions:[]},{path:"/admin/modules",title:"Modules",permissions:[]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},40893:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(98284),i=t(22173),a=t(68290),n=t(11076),o=t(53167),l=t(12141),u=t(86221),c=t(37297),d=t(36065),p=t(88547),m=t(61756),x=t(98987),h=t(68888),g=t(31755),f=t(85615),j=t(77602),P=t(98539),b=t(96607);let q=({admin:e,message:s,title:t,time:i})=>(0,r.jsxs)(a.w,{fullWidth:!0,children:[e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.u,{className:"flex gap-3",children:[r.jsx(j.J,{alt:e.user?.personaname||e.player_name,height:40,radius:"sm",src:e.user?.avatarmedium,width:40}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("p",{className:"text-md font-medium",children:e.user?.personaname||e.player_name}),r.jsx("p",{className:"text-small text-default-500",children:"Flags"})]})]}),r.jsx(P.j,{})]}),(0,r.jsxs)(o.G,{children:[r.jsx("h4",{className:"text-lg font-medium",children:t}),r.jsx("p",{className:"text-sm",children:s})]}),r.jsx(P.j,{}),r.jsx(l.i,{className:"text-sm",children:(0,b.Q)(i)+" ago"})]}),v=()=>{let[e,s]=(0,i.useState)(1),[t,j]=(0,i.useState)(""),[P]=(0,x.Nr)(t,1e3),{data:b,isLoading:v}=(0,f.ZP)(`/api/admin/logs?page=${e}&rows=20&query=${P}`,g.Z,{keepPreviousData:!0}),S=(0,i.useMemo)(()=>b?.count?Math.ceil(b.count/20):0,[b?.count,20]),y=(0,d.usePathname)(),w=p.ADMIN_TABS.find(e=>e.path===y);return r.jsx(h.default,{flags:w?.permissions||[],children:(0,r.jsxs)(a.w,{children:[(0,r.jsxs)(n.u,{className:"text-2xl font-medium flex flex-row justify-between items-center",children:[r.jsx("div",{children:"Logs"}),r.jsx(m.Y,{label:"Search...",placeholder:"You can search by title or message...",className:"w-1/5",value:t,onValueChange:j,isClearable:!0})]}),r.jsx(o.G,{className:"grid lg:grid-cols-3 gap-4",children:v?r.jsx(c.c,{}):b&&b.results?.map(e=>i.createElement(q,{...e,key:e.id}))}),r.jsx(l.i,{children:r.jsx(u.g,{color:"primary",page:e,total:S,onChange:e=>s(e),className:"mx-auto mt-10",size:"sm",isCompact:!0,showControls:!0,showShadow:!0})})]})})}},94906:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x,metadata:()=>m});var r=t(88640),i=t(11728);let a=(0,i.createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\UI\Tabs.tsx`),{__esModule:n,$$typeof:o}=a,l=a.default;(0,i.createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\UI\Tabs.tsx#ADMIN_TABS`);let u=(0,i.createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\UI\AdminCheck.tsx`),{__esModule:c,$$typeof:d}=u,p=u.default,m={title:"Admin Panel"},x=({children:e})=>(0,r.jsxs)(p,{flags:[],children:[r.jsx(l,{}),e]})},15882:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>a,__esModule:()=>i,default:()=>n});let r=(0,t(11728).createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\logs\page.tsx`),{__esModule:i,$$typeof:a}=r,n=r.default},12141:(e,s,t)=>{"use strict";t.d(s,{i:()=>u});var r=t(80854),i=t(29853),a=t(71711),n=t(3411),o=t(98284),l=(0,i.Gp)((e,s)=>{var t;let{as:i,className:l,children:u,...c}=e,d=(0,a.gy)(s),{slots:p,classNames:m}=(0,r.R)(),x=(0,n.W)(null==m?void 0:m.footer,l);return(0,o.jsx)(i||"div",{ref:d,className:null==(t=p.footer)?void 0:t.call(p,{class:x}),...c,children:u})});l.displayName="NextUI.CardFooter";var u=l}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[7448,7206,4450,2117,9858,7567,5822],()=>t(41218));module.exports=r})();