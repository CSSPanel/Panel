(()=>{var e={};e.id=6567,e.ids=[6567],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},70612:e=>{"use strict";e.exports=require("node:os")},97742:e=>{"use strict";e.exports=require("node:process")},25997:e=>{"use strict";e.exports=require("node:tty")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},41218:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>l,routeModule:()=>p,tree:()=>c});var s=t(8605),n=t(1403),i=t(49663),a=t.n(i),u=t(66381),o={};for(let e in u)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>u[e]);t.d(r,o);let c=["",{children:["(main)",{children:["admin",{children:["logs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,15882)),"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\logs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94906)),"C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,89672,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,91090)),"C:\\Projects\\CSS-Panel\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,89672,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Projects\\CSS-Panel\\app\\(main)\\admin\\logs\\page.tsx"],d="/(main)/admin/logs/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/admin/logs/page",pathname:"/admin/logs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},17667:(e,r,t)=>{Promise.resolve().then(t.bind(t,68888)),Promise.resolve().then(t.bind(t,88547))},33272:(e,r,t)=>{Promise.resolve().then(t.bind(t,40893))},68888:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(98284),n=t(37297),i=t(36065),a=t(22173),u=t(46705);let o=({children:e,flags:r})=>{let{admin:t,isLoading:o}=(0,u.ZP)(),c=(0,i.useRouter)();return(0,a.useEffect)(()=>{if(!o){if(!t)return c.push("/");if(r.length>0&&!r.some(e=>t.flags?.includes(e)))return c.push("/admin")}},[t,o,c,r]),o?s.jsx(n.c,{}):t?s.jsx(s.Fragment,{children:e}):s.jsx(s.Fragment,{children:"No Access"})}},88547:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ADMIN_TABS:()=>o,default:()=>u});var s=t(98284),n=t(36065),i=t(7408),a=t(77003);let u=()=>{let e=(0,n.usePathname)(),r=(0,n.useRouter)();return s.jsx(i.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>r.push(e),items:o,children:e=>s.jsx(a.r,{title:e.title},e.path)})},o=[{path:"/admin",title:"Statistics",permissions:[]},{path:"/admin/modules",title:"Modules",permissions:[]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},40893:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>q});var s=t(98284),n=t(22173),i=t(68290),a=t(11076),u=t(53167),o=t(12141),c=t(86221),l=t(37297),d=t(36065),m=t(88547),p=t(61756),x=t(98987),f=t(68888),h=t(31755),g=t(85615),j=t(77602),v=t(98539),P=t(96607);let b=({admin:e,message:r,title:t,time:n})=>(0,s.jsxs)(i.w,{fullWidth:!0,children:[e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.u,{className:"flex gap-3",children:[s.jsx(j.J,{alt:e.user?.personaname||e.player_name,height:40,radius:"sm",src:e.user?.avatarmedium,width:40}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("p",{className:"text-md font-medium",children:e.user?.personaname||e.player_name}),s.jsx("p",{className:"text-small text-default-500",children:"Flags"})]})]}),s.jsx(v.j,{})]}),(0,s.jsxs)(u.G,{children:[s.jsx("h4",{className:"text-lg font-medium",children:t}),s.jsx("p",{className:"text-sm",children:r})]}),s.jsx(v.j,{}),s.jsx(o.i,{className:"text-sm",children:(0,P.Q)(n)+" ago"})]}),q=()=>{let[e,r]=(0,n.useState)(1),[t,j]=(0,n.useState)(""),[v]=(0,x.Nr)(t,1e3),{data:P,isLoading:q}=(0,g.ZP)(`/api/admin/logs?page=${e}&rows=20&query=${v}`,h.Z,{keepPreviousData:!0}),y=(0,n.useMemo)(()=>P?.count?Math.ceil(P.count/20):0,[P?.count,20]),S=(0,d.usePathname)(),w=m.ADMIN_TABS.find(e=>e.path===S);return s.jsx(f.default,{flags:w?.permissions||[],children:(0,s.jsxs)(i.w,{children:[(0,s.jsxs)(a.u,{className:"text-2xl font-medium flex flex-row justify-between items-center",children:[s.jsx("div",{children:"Logs"}),s.jsx(p.Y,{label:"Search...",placeholder:"You can search by title or message...",className:"w-1/5",value:t,onValueChange:j,isClearable:!0})]}),s.jsx(u.G,{className:"grid lg:grid-cols-3 gap-4",children:q?s.jsx(l.c,{}):P&&P.results?.map(e=>n.createElement(b,{...e,key:e.id}))}),s.jsx(o.i,{children:s.jsx(c.g,{color:"primary",page:e,total:y,onChange:e=>r(e),className:"mx-auto mt-10",size:"sm",isCompact:!0,showControls:!0,showShadow:!0})})]})})}},98987:(e,r,t)=>{"use strict";t.d(r,{Nr:()=>a});var s=t(22173);function n(e,r){return e===r}function i(e,r){return r}function a(e,r,t){var a=t&&t.equalityFn||n,u=(0,s.useReducer)(i,e),o=u[0],c=u[1],l=function(e,r,t){var n=this,i=(0,s.useRef)(null),a=(0,s.useRef)(0),u=(0,s.useRef)(null),o=(0,s.useRef)([]),c=(0,s.useRef)(),l=(0,s.useRef)(),d=(0,s.useRef)(e),m=(0,s.useRef)(!0);d.current=e;var p=!r&&0!==r&&!1;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var x=!!(t=t||{}).leading,f=!("trailing"in t)||!!t.trailing,h="maxWait"in t,g="debounceOnServer"in t&&!!t.debounceOnServer,j=h?Math.max(+t.maxWait||0,r):null;return(0,s.useEffect)(function(){return m.current=!0,function(){m.current=!1}},[]),(0,s.useMemo)(function(){var e=function(e){var r=o.current,t=c.current;return o.current=c.current=null,a.current=e,l.current=d.current.apply(t,r)},t=function(e,r){p&&cancelAnimationFrame(u.current),u.current=p?requestAnimationFrame(e):setTimeout(e,r)},s=function(e){if(!m.current)return!1;var t=e-i.current;return!i.current||t>=r||t<0||h&&e-a.current>=j},v=function(r){return u.current=null,f&&o.current?e(r):(o.current=c.current=null,l.current)},P=function e(){var n=Date.now();if(s(n))return v(n);if(m.current){var u=r-(n-i.current);t(e,h?Math.min(u,j-(n-a.current)):u)}},b=function(){if(g){var d=Date.now(),p=s(d);if(o.current=[].slice.call(arguments),c.current=n,i.current=d,p){if(!u.current&&m.current)return a.current=i.current,t(P,r),x?e(i.current):l.current;if(h)return t(P,r),e(i.current)}return u.current||t(P,r),l.current}};return b.cancel=function(){u.current&&(p?cancelAnimationFrame(u.current):clearTimeout(u.current)),a.current=0,o.current=i.current=c.current=u.current=null},b.isPending=function(){return!!u.current},b.flush=function(){return u.current?v(Date.now()):l.current},b},[x,h,r,j,f,p,!1,g])}((0,s.useCallback)(function(e){return c(e)},[c]),r,t),d=(0,s.useRef)(e);return a(d.current,e)||(l(e),d.current=e),[o,l]}},94906:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x,metadata:()=>p});var s=t(88640),n=t(11728);let i=(0,n.createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\UI\Tabs.tsx`),{__esModule:a,$$typeof:u}=i,o=i.default;(0,n.createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\UI\Tabs.tsx#ADMIN_TABS`);let c=(0,n.createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\UI\AdminCheck.tsx`),{__esModule:l,$$typeof:d}=c,m=c.default,p={title:"Admin Panel"},x=({children:e})=>(0,s.jsxs)(m,{flags:[],children:[s.jsx(o,{}),e]})},15882:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});let s=(0,t(11728).createProxy)(String.raw`C:\Projects\CSS-Panel\app\(main)\admin\logs\page.tsx`),{__esModule:n,$$typeof:i}=s,a=s.default},12141:(e,r,t)=>{"use strict";t.d(r,{i:()=>c});var s=t(80854),n=t(29853),i=t(71711),a=t(3411),u=t(98284),o=(0,n.Gp)((e,r)=>{var t;let{as:n,className:o,children:c,...l}=e,d=(0,i.gy)(r),{slots:m,classNames:p}=(0,s.R)(),x=(0,a.W)(null==p?void 0:p.footer,o);return(0,u.jsx)(n||"div",{ref:d,className:null==(t=m.footer)?void 0:t.call(m,{class:x}),...l,children:c})});o.displayName="NextUI.CardFooter";var c=o}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4070,7206,4450,6221,9858,7567,5822],()=>t(41218));module.exports=s})();