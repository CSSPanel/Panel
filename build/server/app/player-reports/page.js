(()=>{var e={};e.id=8550,e.ids=[8550],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},95346:e=>{"use strict";e.exports=require("timers")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},15673:e=>{"use strict";e.exports=require("node:events")},70612:e=>{"use strict";e.exports=require("node:os")},97742:e=>{"use strict";e.exports=require("node:process")},25997:e=>{"use strict";e.exports=require("node:tty")},71944:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>l,routeModule:()=>f,tree:()=>c}),t(34322),t(95167),t(35866);var n=t(23191),s=t(88716),i=t(37922),o=t.n(i),u=t(95231),a={};for(let e in u)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>u[e]);t.d(r,a);let c=["",{children:["player-reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,34322)),"/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/player-reports/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,95167)),"/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/player-reports/page.tsx"],d="/player-reports/page",p={require:t,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/player-reports/page",pathname:"/player-reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},93115:(e,r,t)=>{Promise.resolve().then(t.bind(t,18269))},18269:(e,r,t)=>{"use strict";t.d(r,{default:()=>_});var n=t(10326),s=t(4085),i=t(89507),o=t(39917),u=t(17577),a=t(66025),c=t(22007),l=t(24663),d=t(12747),p=t(18265),f=t(57380),m=t(58421),x=t(12249),h=t(6664),y=t(40040),v=t(68753),j=t(40381),g=t(90434),b=t(24490);let P=({id:e,reason:r,server:t,time:s,user:i,userId:o,target:a,targetId:P,handlerId:R,handler:_})=>{let[S,w]=(0,u.useState)(!1),N=async()=>{if(!S){w(!0);try{open(`steam://connect/${t.address}`,"_self"),await b.Z.post(`/api/admin/player-reports/${e}`)}catch(e){console.error(e),j.ZP.error("Failed to connect to the server")}finally{w(!1)}}};return(0,n.jsxs)(c.w,{fullWidth:!0,children:[(0,n.jsxs)(l.u,{className:"font-semibold flex gap-3 justify-between text-lg",children:["Report #",e," ",n.jsx("span",{className:"font-normal text-sm",children:(0,m.Q)(s)+" ago"})]}),n.jsx(x.j,{}),(0,n.jsxs)(d.G,{className:"flex gap-2 text-sm p-2",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[n.jsx("b",{children:"Suspect:"}),n.jsx(g.default,{href:"https://steamcommunity.com/profiles/"+P,className:"h-fit contents",target:"_blank",children:n.jsx(y.z,{name:a?.personaname||P,avatarProps:{src:a?.avatar,size:"sm"}})})]}),n.jsx(x.j,{className:"opacity-50"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[n.jsx("b",{children:"Reason:"})," ",r]}),n.jsx(x.j,{className:"opacity-50"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[n.jsx("b",{children:"Server:"})," ",t.hostname||t.address||"Unknown"," "]}),n.jsx(x.j,{className:"opacity-50"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[n.jsx("b",{children:"Status:"})," ",n.jsx(v.z,{size:"sm",color:R?"success":"warning",variant:"flat",children:R?(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:[n.jsx(f.Z,{size:14}),"Handled by"," ",n.jsx(g.default,{href:"https://steamcommunity.com/profiles/"+R,className:"underline",target:"_blank",children:_?.personaname||R})]}):"Pending"})]})]}),n.jsx(x.j,{}),(0,n.jsxs)(p.i,{className:"flex justify-between text-sm",children:[(0,n.jsxs)("div",{children:["Reported by"," ",n.jsx(g.default,{href:"https://steamcommunity.com/profiles/"+o,target:"_blank",className:"text-primary-600 hover:underline",children:i?.personaname||o})," "]}),n.jsx(h.A,{color:"primary",size:"sm",isDisabled:S||!!R,onClick:N,isLoading:S,children:"Connect & Handle"})]})]})};var R=t(58838);let _=()=>{let[e,r]=(0,u.useState)(10),[t]=(0,o.Nr)(e,500),{data:c,isLoading:l}=(0,R.ZP)(`/api/admin/player-reports?minutes=${t}`,a.Z);return(0,n.jsxs)("div",{className:"w-full min-h-unit-24 flex flex-col",children:[(0,n.jsxs)("div",{className:"w-full mb-10 flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"",children:[n.jsx("h1",{className:"text-2xl font-semibold",children:"Player Reports"}),(0,n.jsxs)("p",{className:"text-sm font-normal",children:["Here you can see all the reports that players have sent.",n.jsx("br",{}),"This list is updated in real-time and shows reports from up to 10 minutes.",n.jsx("br",{}),"The page is only visible to admins."]})]}),n.jsx("div",{children:n.jsx(i.Y,{value:e.toString(),onChange:e=>r(parseInt(e.target.value)),label:"Minutes ago",variant:"bordered",placeholder:"10",type:"number"})})]}),l?n.jsx(s.c,{}):n.jsx("div",{className:"grid grid-cols-3 gap-6",children:c&&c.map(e=>n.jsx(P,{...e},e.id))})]})}},57380:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var n=(0,t(81287).Z)("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},39917:(e,r,t)=>{"use strict";t.d(r,{Nr:()=>o});var n=t(17577);function s(e,r){return e===r}function i(e,r){return r}function o(e,r,t){var o=t&&t.equalityFn||s,u=(0,n.useReducer)(i,e),a=u[0],c=u[1],l=function(e,r,t){var s=this,i=(0,n.useRef)(null),o=(0,n.useRef)(0),u=(0,n.useRef)(null),a=(0,n.useRef)([]),c=(0,n.useRef)(),l=(0,n.useRef)(),d=(0,n.useRef)(e),p=(0,n.useRef)(!0);d.current=e;var f="undefined"!=typeof window,m=!r&&0!==r&&f;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var x=!!(t=t||{}).leading,h=!("trailing"in t)||!!t.trailing,y="maxWait"in t,v="debounceOnServer"in t&&!!t.debounceOnServer,j=y?Math.max(+t.maxWait||0,r):null;return(0,n.useEffect)(function(){return p.current=!0,function(){p.current=!1}},[]),(0,n.useMemo)(function(){var e=function(e){var r=a.current,t=c.current;return a.current=c.current=null,o.current=e,l.current=d.current.apply(t,r)},t=function(e,r){m&&cancelAnimationFrame(u.current),u.current=m?requestAnimationFrame(e):setTimeout(e,r)},n=function(e){if(!p.current)return!1;var t=e-i.current;return!i.current||t>=r||t<0||y&&e-o.current>=j},g=function(r){return u.current=null,h&&a.current?e(r):(a.current=c.current=null,l.current)},b=function e(){var s=Date.now();if(n(s))return g(s);if(p.current){var u=r-(s-i.current);t(e,y?Math.min(u,j-(s-o.current)):u)}},P=function(){if(f||v){var d=Date.now(),m=n(d);if(a.current=[].slice.call(arguments),c.current=s,i.current=d,m){if(!u.current&&p.current)return o.current=i.current,t(b,r),x?e(i.current):l.current;if(y)return t(b,r),e(i.current)}return u.current||t(b,r),l.current}};return P.cancel=function(){u.current&&(m?cancelAnimationFrame(u.current):clearTimeout(u.current)),o.current=0,a.current=i.current=c.current=u.current=null},P.isPending=function(){return!!u.current},P.flush=function(){return u.current?g(Date.now()):l.current},P},[x,y,r,j,h,m,f,v])}((0,n.useCallback)(function(e){return c(e)},[c]),r,t),d=(0,n.useRef)(e);return o(d.current,e)||(l(e),d.current=e),[a,l]}},34322:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var n=t(19510),s=t(23763),i=t(58585);let o=(0,t(68570).createProxy)(String.raw`/Users/amireliz/Documents/Projects/CSSPanel/Panel/app/player-reports/UI/Reports.tsx#default`),u=async()=>(await (0,s.ed)("player-reports")).enabled?n.jsx(o,{}):(0,i.notFound)()},58585:(e,r,t)=>{"use strict";var n=t(61085);t.o(n,"notFound")&&t.d(r,{notFound:function(){return n.notFound}}),t.o(n,"redirect")&&t.d(r,{redirect:function(){return n.redirect}})},61085:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return n.RedirectType},notFound:function(){return s.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=t(83953),s=t(16399);class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},16399:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isNotFoundError:function(){return s},notFound:function(){return n}});let t="NEXT_NOT_FOUND";function n(){let e=Error(t);throw e.digest=t,e}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},8586:(e,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return t}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(t||(t={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},83953:(e,r,t)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{RedirectType:function(){return n},getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return d},permanentRedirect:function(){return l},redirect:function(){return c}});let s=t(54580),i=t(72934),o=t(8586),u="NEXT_REDIRECT";function a(e,r,t){void 0===t&&(t=o.RedirectStatusCode.TemporaryRedirect);let n=Error(u);n.digest=u+";"+r+";"+e+";"+t+";";let i=s.requestAsyncStorage.getStore();return i&&(n.mutableCookies=i.mutableCookies),n}function c(e,r){void 0===r&&(r="replace");let t=i.actionAsyncStorage.getStore();throw a(e,r,(null==t?void 0:t.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function l(e,r){void 0===r&&(r="replace");let t=i.actionAsyncStorage.getStore();throw a(e,r,(null==t?void 0:t.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[r,t,n,s]=e.digest.split(";",4),i=Number(s);return r===u&&("replace"===t||"push"===t)&&"string"==typeof n&&!isNaN(i)&&i in o.RedirectStatusCode}function p(e){return d(e)?e.digest.split(";",3)[2]:null}function f(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},18265:(e,r,t)=>{"use strict";t.d(r,{i:()=>c});var n=t(82345),s=t(84521),i=t(10420),o=t(87281),u=t(10326),a=(0,s.Gp)((e,r)=>{var t;let{as:s,className:a,children:c,...l}=e,d=(0,i.gy)(r),{slots:p,classNames:f}=(0,n.R)(),m=(0,o.W)(null==f?void 0:f.footer,a);return(0,u.jsx)(s||"div",{ref:d,className:null==(t=p.footer)?void 0:t.call(p,{class:m}),...l,children:c})});a.displayName="NextUI.CardFooter";var c=a}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[126,9507,5611,8753,95,7260],()=>t(71944));module.exports=n})();