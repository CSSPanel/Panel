"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2694],{72694:function(e,n,t){t.d(n,{_:function(){return u}});var r=t(2265);t(14123);var o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function a(e,n,t,a){let l=(0,r.useRef)(n);o(()=>{l.current=n},[n]),(0,r.useEffect)(()=>{let n=(null==t?void 0:t.current)??window;if(!(n&&n.addEventListener))return;let r=e=>{l.current(e)};return n.addEventListener(e,r,a),()=>{n.removeEventListener(e,r,a)}},[e,t,a])}function l(e){let n=(0,r.useRef)(()=>{throw Error("Cannot call an event handler while rendering.")});return o(()=>{n.current=e},[e]),(0,r.useCallback)((...e)=>{var t;return null==(t=n.current)?void 0:t.call(n,...e)},[n])}var i="undefined"==typeof window;function u(e,n,t={}){let{initializeWithValue:o=!0}=t,u=(0,r.useCallback)(e=>t.serializer?t.serializer(e):JSON.stringify(e),[t]),c=(0,r.useCallback)(e=>{let r;if(t.deserializer)return t.deserializer(e);if("undefined"===e)return;let o=n instanceof Function?n():n;try{r=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),o}return r},[t,n]),s=(0,r.useCallback)(()=>{let t=n instanceof Function?n():n;if(i)return t;try{let n=window.localStorage.getItem(e);return n?c(n):t}catch(n){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,n),t}},[n,e,c]),[f,d]=(0,r.useState)(()=>o?s():n instanceof Function?n():n),w=l(n=>{i&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let t=n instanceof Function?n(s()):n;window.localStorage.setItem(e,u(t)),d(t),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(n){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,n)}}),g=l(()=>{i&&console.warn(`Tried removing localStorage key \u201C${e}\u201D even though environment is not a client`);let t=n instanceof Function?n():n;window.localStorage.removeItem(e),d(t),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});(0,r.useEffect)(()=>{d(s())},[e]);let v=(0,r.useCallback)(n=>{n.key&&n.key!==e||d(s())},[e,s]);return a("storage",v),a("local-storage",v),[f,w,g]}}}]);