"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5603],{47032:function(e,s,a){var l=a(94773),r=a(15105),n=a(23151),t=a(39720),i=a(35504),c=a(44098),o=a(97228),d=a(39596),m=a(44208),u=a(60433),x=a(96509),h=a(24909);s.default=()=>{let e=(0,u.Z)(e=>e.open),s=(0,u.Z)(e=>e.serverId),a=(0,u.Z)(e=>e.userId),p=(0,u.Z)(e=>e.handleClose),[j,f]=(0,m.useState)(""),[g,v]=(0,m.useState)(!1),b=async e=>{if(e.preventDefault(),!g){v(!0);try{await h.Z.post("/api/servers/".concat(s,"/report"),{userId:a,reason:j}),x.ZP.success("Thanks! your report sent!"),f(""),p()}catch(e){var l;console.error(e),x.ZP.error((null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.data)||"An error occurred while sending the report."),f(""),p()}v(!1)}};return(0,l.jsx)(r.R,{size:"2xl",isOpen:e,onClose:p,backdrop:"blur",children:(0,l.jsx)(n.A,{children:e=>(0,l.jsxs)("form",{onSubmit:b,children:[(0,l.jsx)(t.k,{children:"Report Player"}),(0,l.jsxs)(i.I,{children:[(0,l.jsx)("p",{children:"Please provide a valid detailed reason for the report."}),(0,l.jsx)(o.Y,{label:"Reason",type:"text",size:"sm",value:j,variant:"flat",onValueChange:e=>f(e),disabled:g})]}),(0,l.jsxs)(c.R,{className:"flex flex-row items-center gap-4",children:[(0,l.jsx)(d.A,{onClick:p,color:"danger",children:"Close"}),(0,l.jsx)(d.A,{type:"submit",isLoading:g,color:"primary",children:"Report"})]})]})})})}},60433:function(e,s,a){let l=(0,a(45478).Ue)(e=>({open:!1,serverId:0,userId:"",handleClose:()=>e({open:!1}),handleOpen:(s,a)=>e({open:!0,serverId:s,userId:a})}));s.Z=l},56967:function(e,s,a){var l=a(94773),r=a(15105),n=a(23151),t=a(35504),i=a(44098),c=a(39596),o=a(90885),d=a(44208),m=a(66596),u=a(17054),x=a(96123),h=a(96509),p=a(24909),j=a(83455);s.default=()=>{let e=(0,x.Z)(e=>e.chatModal),{open:s,server:a}=e,f=(0,x.Z)(e=>e.setChatModal),{data:g,isLoading:v,mutate:b}=(0,u.ZP)(s&&(null==a?void 0:a.id)?"/api/servers/".concat(a.id,"/chat"):void 0,j.Z,{refreshInterval:2e3}),[y,N]=(0,d.useState)(""),[w,C]=(0,d.useState)(!1),[Z,k]=(0,d.useState)(!1),z=async e=>{if(e.preventDefault(),!Z&&a){k(!0),N("");try{await p.Z.post("/api/servers/".concat(a.id,"/chat"),{message:y,hideName:w}),await b(),h.ZP.success("Message sent!")}catch(e){console.error(e)}k(!1)}},A=(0,d.useRef)(null);return(0,d.useEffect)(()=>{A.current&&A.current.scroll({top:1e3})},[g]),a&&(0,l.jsx)(r.R,{size:"4xl",isOpen:s,onClose:()=>f({...e,open:!1}),backdrop:"blur",placement:"bottom",classNames:{base:"bg-cover bg-center bg-no-repeat",body:"min-h-[450px] max-h-[450px] overflow-y-scroll py-4 backdrop-filter backdrop-blur-sm relative",footer:"backdrop-filter backdrop-blur-md border-t-2 border-foreground/20"},children:(0,l.jsx)(n.A,{style:{backgroundImage:"url('".concat("https://image.gametracker.com/images/maps/160x120/csgo/{{map}}.jpg".replace("{{map}}",a.map)||"https://image.gametracker.com/images/maps/160x120/csgo/".concat(a.map,".jpg"),"')")},children:e=>a&&(0,l.jsxs)("form",{onSubmit:z,children:[(0,l.jsx)(t.I,{children:(0,l.jsx)("div",{ref:A,children:g&&g.length>0&&g.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("b",{children:[e.team?"[TEAM] ":"",e.playerName,":"," "]}),e.message]},e.id))})}),(0,l.jsxs)(i.R,{className:"flex flex-row items-center gap-4",children:[(0,l.jsx)(o.Y,{label:"Type a message...",type:"text",size:"sm",value:y,variant:"flat",onValueChange:e=>N(e),disabled:Z||v}),(0,l.jsx)(m.e,{content:(0,l.jsxs)(l.Fragment,{children:["Hide your name from the message",(0,l.jsx)("br",{}),"Currently: ",w?"Your name is hidden":"Your name is visible"]}),placement:"top",children:(0,l.jsx)(c.A,{variant:"flat",size:"sm",color:"secondary",onClick:()=>{C(!w)},children:w?"Hide Name":"Show Name"})})]})]})})})}},21859:function(e,s,a){a.d(s,{default:function(){return Y}});var l=a(94773),r=a(51089),n=a(20566),t=a(87880),i=a(77730),c=a(49405),o=a(17279),d=a(15105),m=a(23151),u=a(39720),x=a(35504),h=a(44098),p=a(88341),j=a(89405),f=a(84358),g=a(92300),v=a(90885),b=a(39596),y=a(17054),N=a(58840),w=a(40519),C=a(41486),Z=a(79511),k=a(93203),z=a(57970),A=a(96123),P=a(46736),S=a(31467),I=a(24909),T=a(96509),M=a(24578),L=a(45478),R=a(68668);let _=(0,L.Ue)(e=>({action:null,setAction:s=>e({action:s}),isLoading:!1,setIsLoading:s=>e({isLoading:s}),details:null,setDetails:s=>e({details:s}),reset:()=>e({action:null,isLoading:!1,details:null})}));R.z.string(),R.z.object({duration:R.z.number(),reason:R.z.string()}),R.z.object({duration:R.z.number(),reason:R.z.string(),type:M.P});let V=R.z.enum(["kick","ban","mute"]);R.z.object({action:V,userId:R.z.number()});var O=a(13772),E=a(60433),F=a(6389),Y=()=>{var e,s,a,M,L;let R=(0,A.Z)(e=>e.modal),V=(0,A.Z)(e=>e.setModal),Y=(0,A.Z)(e=>e.setChatModal),D=(0,E.Z)(e=>e.handleOpen),H=_(e=>e.action),B=_(e=>e.setAction),J=_(e=>e.details),G=_(e=>e.setDetails),K=_(e=>e.isLoading),U=_(e=>e.setIsLoading),W=_(e=>e.reset),X=(0,F.k)(e=>e.modules).find(e=>"player-reports"===e.identifier),q=(null==X?void 0:X.enabled)||!1,{user:Q,admin:$}=(0,P.ZP)(),{open:ee,server:es}=R,ea=()=>V({...R,open:!1}),el=null==es?void 0:es.serverIp,er=null==es?void 0:es.address.split(":")[1],en=el?"".concat(el,":").concat(er):null==es?void 0:es.address,et=async()=>{if(H&&!K&&es&&J&&eu){U(!0);try{await I.Z.post("/api/servers/".concat(es.id,"/action"),{action:H,userId:eu.userId,details:J}),await new Promise(e=>setTimeout(e,4e3));let e=await (0,y.JG)("/api/servers/".concat(es.id));e&&V({...R,server:e}),T.ZP.success("Player ".concat(H,"ed successfully")),W()}catch(e){T.ZP.error("Error ".concat(H,"ing player"))}U(!1)}},{x:ei,y:ec,open:eo,handleCloseMenu:ed,handleOpen:em,info:eu}=(0,Z.Z)(),ex=(e,s)=>{switch(s){case"userId":return(0,l.jsxs)(j.z,{color:"primary",size:"sm",children:["#",e.userId]});case"playerName":return(0,l.jsx)(z.default,{href:"https://steamcommunity.com/profiles/".concat(e.steam64),target:"_blank",children:(0,l.jsxs)(p.z,{avatarProps:{radius:"sm",src:e.avatar,size:"sm"},name:e.playerName,classNames:{name:"flex flex-col gap-2"},children:[e.playerName,(0,l.jsx)("span",{children:e.admin?"(Admin)":""})]})});case"steam64":return(0,l.jsx)(z.default,{href:"https://steamcommunity.com/profiles/".concat(e.steam64),target:"_blank",className:"underline decoration-blue-500",children:e.steam64});case"kills":return(0,l.jsx)("span",{children:e.kills||0});case"deaths":return(0,l.jsx)("span",{children:e.deaths||0});case"score":return(0,l.jsx)("span",{children:e.score});case"admin":return(0,l.jsx)("span",{children:e.admin?(0,l.jsx)(f.Z,{size:20}):"-"});case"actions":return Q&&Q.id!==e.steam64&&q&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(b.A,{color:"secondary",size:"sm",onClick:()=>D(es.id,e.steam64),children:"Report"})});default:return(0,l.jsx)(l.Fragment,{})}};return(0,l.jsxs)(d.R,{size:"4xl",isOpen:ee,onOpenChange:()=>{!eo&&(H||ea())},children:[(0,l.jsx)(m.A,{children:e=>es&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u.k,{className:"flex flex-col text-center gap-1",children:[(0,l.jsx)("h2",{children:es.hostname}),(0,l.jsxs)("span",{className:"font-normal text-foreground-700 text-sm",children:[es.map,(0,l.jsx)("br",{}),"number"==typeof es.players?es.players:es.players.length,"/",es.maxPlayers," Players"]})]}),(0,l.jsxs)(x.I,{children:[(0,l.jsxs)(r.b,{isStriped:!0,children:[(0,l.jsxs)(n.J,{children:[(0,l.jsx)(t.j,{children:"#"},"userId"),(0,l.jsx)(t.j,{children:"Player"},"playerName"),(0,l.jsx)(t.j,{children:"SteamID"},"steam64"),(0,l.jsx)(t.j,{children:"Kills"},"kills"),(0,l.jsx)(t.j,{children:"Deaths"},"deaths"),(0,l.jsx)(t.j,{children:"Score"},"score"),(0,l.jsx)(t.j,{children:"Admin"},"admin"),(0,l.jsx)(t.j,{children:"Actions"},"actions")]}),(0,l.jsx)(i.y,{items:"number"!=typeof es.players?es.players:[],children:e=>(0,l.jsx)(c.g,{onContextMenu:s=>$&&em&&em(s,e)||void 0,children:s=>(0,l.jsx)(o.X,{className:"pb-1 pt-2",children:ex(e,s)})},e.userId)})]}),$&&(0,l.jsx)("span",{className:"text-sm",children:"Tip, your can right click on a player row for more actions, such as kick, ban, and more!"})]}),(0,l.jsxs)(h.R,{children:[$&&(0,l.jsx)(b.A,{color:"secondary",variant:"flat",onPress:()=>Y({open:!0,server:es}),children:"Open Chat"}),(0,l.jsx)(b.A,{color:"danger",variant:"flat",onPress:e,children:"Close"}),(0,l.jsx)(z.default,{href:"steam://connect/".concat(en),passHref:!0,children:(0,l.jsx)(b.A,{color:"primary",children:"Connect"})})]})]})}),$&&(0,l.jsxs)(S.Z,{open:"kick"===H,handleClose:W,action:et,isLoading:K,actionText:"Kick",children:[(0,l.jsxs)("div",{children:["Are you sure you want to kick ",null==eu?void 0:eu.playerName,"?"]}),(0,l.jsx)(v.Y,{placeholder:"Reason",value:J||"",onValueChange:e=>G(e)})]}),$&&(0,l.jsxs)(S.Z,{open:"ban"===H,handleClose:W,action:et,isLoading:K,actionText:"Ban",children:[(0,l.jsxs)("div",{children:["Are you sure you want to ban ",null==eu?void 0:eu.playerName,"?"]}),(0,l.jsx)(v.Y,{placeholder:"Reason",value:(null==J?void 0:J.reason)||"",onValueChange:e=>G({...J,reason:e})}),(0,l.jsx)(v.Y,{placeholder:"Time (in minutes)",type:"number",value:(null==J?void 0:null===(e=J.duration)||void 0===e?void 0:e.toString())||"",onValueChange:e=>G({...J,duration:Number(e)}),description:"Time in minutes, 0 = Permanent ban"}),(0,l.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,l.jsxs)("span",{children:["The ban will start at ",(0,l.jsx)("b",{children:(0,O.Z)()})]}),(0,l.jsxs)("span",{children:["the ban will end at"," ",(0,l.jsx)("b",{children:(null==J?void 0:null===(s=J.duration)||void 0===s?void 0:s.toString())==="0"?(0,l.jsx)("b",{className:"text-red-700",children:"Permanent"}):(0,O.Z)(new Date().getTime()+6e4*Number(null==J?void 0:J.duration))})]})]})]}),$&&(0,l.jsxs)(S.Z,{open:"mute"===H,handleClose:W,action:et,isLoading:K,actionText:"Mute",children:[(0,l.jsxs)("div",{children:["Are you sure you want to mute ",null==eu?void 0:eu.playerName,"?"]}),(0,l.jsx)(v.Y,{placeholder:"Reason",value:(null==J?void 0:J.reason)||"",onValueChange:e=>G({...J,reason:e})}),(0,l.jsx)(N.g,{label:"Type",placeholder:"Select the mute type",selectedKeys:[null==J?void 0:J.type],onChange:e=>G({...J,type:e.target.value}),disallowEmptySelection:!0,children:C.f.map(e=>(0,l.jsx)(w.R,{value:e.value,children:e.name},e.value))}),(0,l.jsx)(v.Y,{placeholder:"Time (in minutes)",type:"number",value:(null==J?void 0:null===(a=J.duration)||void 0===a?void 0:a.toString())||"",onValueChange:e=>G({...J,duration:Number(e)}),description:"Time in minutes, 0 = Permanent mute"}),(0,l.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,l.jsxs)("span",{children:["The mute will start again at ",(0,l.jsx)("b",{children:(0,O.Z)()})]}),(0,l.jsxs)("span",{children:["the mute will end at"," ",(0,l.jsx)("b",{children:(null==J?void 0:null===(M=J.duration)||void 0===M?void 0:M.toString())==="0"?(0,l.jsx)("b",{className:"text-red-700",children:"Permanent"}):(0,O.Z)(new Date().getTime()+6e4*Number(null==J?void 0:J.duration))})]})]})]}),$&&(0,l.jsx)(k.Z,{open:eo,x:ei,y:ec,handleCloseMenu:ed,items:[{category:"Player Actions",items:((null==eu?void 0:null===(L=eu.admin)||void 0===L?void 0:L.immunity)||0)>$.immunity?[]:[{key:"Kick",description:"Kick the player from the server",icon:g.Z,color:"default",onClick:()=>{B("kick"),G("")},flags:["@web/bans","@web/root"]},{key:"Ban",description:"Ban the player from the server for specific time",icon:g.Z,color:"danger",onClick:()=>{B("ban"),G({duration:0,reason:""})},flags:["@web/bans","@web/root"]},{key:"Mute",description:"Mute the player for specific time",icon:g.Z,color:"danger",onClick:()=>{B("mute"),G({duration:0,reason:"",type:"MUTE"})},flags:["@web/mutes","@web/root"]}]}]})]})}},3695:function(e,s,a){var l=a(94773),r=a(62280),n=a(16607),t=a(59884),i=a(12720),c=a(86867),o=a(81627),d=a(8286),m=a(53751),u=a(66596),x=a(73607),h=a(39596),p=a(47726),j=a(48695),f=a(96509),g=a(96123),v=a(83455),b=a(57970),y=a(17054);s.default=e=>{let{id:s,hostname:a,address:N}=e,{data:w,isLoading:C,error:Z}=(0,y.ZP)("/api/servers/".concat(s),v.Z),k=(0,g.Z)(e=>e.setModal),{serverIp:z}=w||{},A=N.split(":")[1],P=z?"".concat(z,":").concat(A):N;if(C)return(0,l.jsx)(o.w,{className:"border-none bg-content1",shadow:"sm",onClick:()=>open("steam://connect/".concat(P),"_self"),isBlurred:!0,isPressable:!0,children:(0,l.jsx)(d.G,{children:(0,l.jsxs)("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-6 md:gap-4 items-center justify-center",children:[(0,l.jsx)("div",{className:"relative col-span-6 md:col-span-4 h-full",children:(0,l.jsx)(p.J,{alt:"de_dust2",className:(0,j.cn)("object-cover h-full bg-center",C?"animate-pulse grayscale-[10]":C),classNames:{wrapper:"h-full"},shadow:"md",src:"https://files.bo3.gg/uploads/news/16425/title_image/960x480-bc5c4f8a10a0b845105bcab657d4bd58.webp",height:"100%",width:"100%"})}),(0,l.jsxs)("div",{className:"flex flex-col col-span-6 md:col-span-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,l.jsx)("h3",{className:"font-semibold text-foreground/90",children:a}),(0,l.jsx)("p",{className:"text-small text-foreground/80",children:"Loading..."})]}),(0,l.jsx)(h.A,{className:"text-default-900/60 data-[hover]:bg-foreground/10 -translate-y-2 translate-x-2",variant:"light",radius:"full",size:"sm",isIconOnly:!0,children:(0,l.jsx)(x.c,{size:"sm"})})]}),(0,l.jsxs)("div",{className:"flex flex-col mt-3 gap-1",children:[(0,l.jsx)(m.W,{color:"warning",size:"sm",isIndeterminate:!0,isStriped:!0}),(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsx)("p",{className:"text-small",children:"-"})})]}),(0,l.jsxs)("div",{className:"flex w-full items-center justify-between mt-4",children:[(0,l.jsxs)(h.A,{onClick:()=>{navigator.clipboard.writeText("connect ".concat(N)),f.Am.success("Copied to clipboard!")},color:"secondary",variant:"flat",size:"sm",children:[(0,l.jsx)(r.Z,{size:16}),N]}),(0,l.jsx)(b.default,{href:"steam://connect/".concat(P),passHref:!0,children:(0,l.jsxs)(h.A,{color:"primary",variant:"solid",size:"sm",children:[(0,l.jsx)(n.Z,{size:16}),"Connect"]})})]})]})]})})});if(Z||!w)return(0,l.jsx)(o.w,{className:"border-none bg-content1",shadow:"sm",onClick:()=>open("steam://connect/".concat(P),"_self"),isBlurred:!0,isPressable:!0,children:(0,l.jsx)(d.G,{children:(0,l.jsxs)("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-6 md:gap-4 items-center justify-center",children:[(0,l.jsx)("div",{className:"relative col-span-6 md:col-span-4 h-full",children:(0,l.jsx)(p.J,{alt:"de_dust2",className:"object-cover h-full bg-center grayscale-[10]",classNames:{wrapper:"h-full"},shadow:"md",src:"https://files.bo3.gg/uploads/news/16425/title_image/960x480-bc5c4f8a10a0b845105bcab657d4bd58.webp",height:"100%",width:"100%"})}),(0,l.jsxs)("div",{className:"flex flex-col col-span-6 md:col-span-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,l.jsx)("h3",{className:"font-semibold text-foreground/90",children:a}),(0,l.jsx)("p",{className:"text-small text-foreground/80",children:"Failed to load server info"})]}),(0,l.jsx)(h.A,{className:"text-default-900/60 data-[hover]:bg-foreground/10 -translate-y-2 translate-x-2",variant:"light",radius:"full",size:"sm",isIconOnly:!0,children:(0,l.jsx)(t.Z,{})})]}),(0,l.jsxs)("div",{className:"flex flex-col mt-3 gap-1",children:[(0,l.jsx)(m.W,{color:"danger",size:"sm",isStriped:!0}),(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsx)("p",{className:"text-small",children:"-"})})]}),(0,l.jsxs)("div",{className:"flex w-full items-center justify-between mt-4",children:[(0,l.jsxs)(h.A,{onClick:()=>{navigator.clipboard.writeText("connect ".concat(N)),f.Am.success("Copied to clipboard!")},color:"secondary",variant:"flat",size:"sm",children:[(0,l.jsx)(r.Z,{size:16}),N]}),(0,l.jsx)(b.default,{href:"steam://connect/".concat(P),passHref:!0,children:(0,l.jsxs)(h.A,{color:"primary",variant:"solid",size:"sm",children:[(0,l.jsx)(n.Z,{size:16}),"Connect"]})})]})]})]})})});let{game:S,map:I,maxPlayers:T,players:M,vac:L}=w,R=("number"==typeof M?M:M.length)/T*100,_="number"!=typeof M,V="number"==typeof M?M===T:M.length===T;return(0,l.jsx)(o.w,{className:"border-none bg-content1",shadow:"sm",onClick:_?()=>k({open:!0,server:w}):()=>V?f.Am.error("Server is full!"):open("steam://connect/".concat(P),"_self"),isBlurred:!0,isPressable:!0,children:(0,l.jsx)(d.G,{children:(0,l.jsxs)("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-6 md:gap-4 items-center justify-center",children:[(0,l.jsx)("div",{className:"relative col-span-6 md:col-span-4 h-full",children:(0,l.jsx)(p.J,{alt:I,className:"object-cover h-full bg-center",classNames:{wrapper:"h-full"},shadow:"md",src:"https://image.gametracker.com/images/maps/160x120/csgo/{{map}}.jpg".replace("{{map}}",I)||"https://image.gametracker.com/images/maps/160x120/csgo/".concat(I,".jpg"),height:"100%",width:"100%"})}),(0,l.jsxs)("div",{className:"flex flex-col col-span-6 md:col-span-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,l.jsx)("h3",{className:"font-semibold text-foreground/90",children:a}),(0,l.jsx)("p",{className:"text-small text-foreground/80",children:S})]}),null!==L&&(0,l.jsx)(u.e,{content:L?"The server is secured by VAC":"Not VAC Secured",showArrow:!0,children:(0,l.jsx)(h.A,{className:"text-default-900/60 data-[hover]:bg-foreground/10 -translate-y-2 translate-x-2",variant:"light",radius:"full",size:"sm",isIconOnly:!0,children:L?(0,l.jsx)(i.Z,{size:20}):(0,l.jsx)(c.Z,{})})})]}),(0,l.jsxs)("div",{className:"flex flex-col mt-3 gap-1",children:[(0,l.jsx)(m.W,{color:"secondary",value:R,size:"sm"}),(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsxs)("p",{className:"text-small",children:[I," • ",_?M.length:M,"/",T," Players"]})})]}),(0,l.jsxs)("div",{className:"flex w-full items-center justify-between mt-4",children:[(0,l.jsxs)(h.A,{onClick:()=>{if(V)return f.Am.error("Server is full!");navigator.clipboard.writeText("connect ".concat(N)),f.Am.success("Copied to clipboard!")},color:"secondary",variant:"flat",size:"sm",children:[(0,l.jsx)(r.Z,{size:16}),N]}),(0,l.jsx)(b.default,{href:"steam://connect/".concat(P),passHref:!0,children:(0,l.jsxs)(h.A,{color:"primary",variant:"solid",size:"sm",children:[(0,l.jsx)(n.Z,{size:16}),"Connect"]})})]})]})]})})})}},88093:function(e,s,a){var l=a(94773),r=a(51089),n=a(20566),t=a(87880),i=a(77730),c=a(49405),o=a(17279),d=a(39596),m=a(12720),u=a(86867),x=a(62280),h=a(16607),p=a(66596),j=a(73607),f=a(96509),g=a(44208),v=a(96123),b=a(83455),y=a(57970),N=a(17054),w=a(21859),C=a(56967),Z=a(47032);s.default=()=>{let{data:e,isLoading:s,error:a}=(0,N.ZP)("/api/servers",b.Z),k=(0,v.Z)(e=>e.setModal),z=s||(null==e?void 0:e.length)===0?"loading":"idle",A=e=>k({open:!0,server:e}),P=(0,g.useCallback)((e,s)=>{let{game:a,map:r,maxPlayers:n,players:t,vac:i,address:c,playersPercentage:o,hostname:j}=e,g="number"!=typeof t,v="number"==typeof t?t===n:t.length===n,b=e.serverIp,N=e.address.split(":")[1],w=b?"".concat(b,":").concat(N):e.address;switch(s){case"hostname":return(0,l.jsx)("span",{children:j});case"game":return(0,l.jsx)("span",{children:a});case"map":return(0,l.jsx)("span",{children:r});case"players":return(0,l.jsxs)("span",{children:[g?t.length:t,"/",n]});case"vac":return null!==i&&((0,l.jsx)(p.e,{content:i?"The server is secured by VAC":"Not VAC Secured",showArrow:!0,children:(0,l.jsx)(d.A,{className:"text-default-900/60 data-[hover]:bg-foreground/10 -translate-y-2 translate-x-2",variant:"light",radius:"full",size:"sm",isIconOnly:!0,children:i?(0,l.jsx)(m.Z,{size:20}):(0,l.jsx)(u.Z,{})})})||(0,l.jsx)(l.Fragment,{}));case"actions":return(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsxs)(d.A,{onClick:()=>{if(v)return f.Am.error("Server is full!");navigator.clipboard.writeText("connect ".concat(c)),f.Am.success("Copied to clipboard!")},color:"secondary",variant:"flat",size:"sm",children:[(0,l.jsx)(x.Z,{size:16}),c]}),(0,l.jsx)(y.default,{href:"steam://connect/".concat(w),passHref:!0,children:(0,l.jsxs)(d.A,{color:"primary",variant:"solid",size:"sm",children:[(0,l.jsx)(h.Z,{size:16}),"Connect"]})})]});default:return(0,l.jsx)(l.Fragment,{})}},[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.b,{topContent:(0,l.jsxs)("div",{className:"text-start",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Servers"}),(0,l.jsxs)("code",{className:"text-sm font-normal",children:["total: ",(null==e?void 0:e.length)||0]})]}),children:[(0,l.jsxs)(n.J,{children:[(0,l.jsx)(t.j,{children:"Server Name"},"hostname"),(0,l.jsx)(t.j,{children:"Game"},"game"),(0,l.jsx)(t.j,{children:"Map"},"map"),(0,l.jsx)(t.j,{children:"Players"},"players"),(0,l.jsx)(t.j,{children:"VAC"},"vac"),(0,l.jsx)(t.j,{children:"Actions"},"actions")]}),(0,l.jsx)(i.y,{items:e||[],loadingContent:(0,l.jsx)(j.c,{}),loadingState:z,children:a?(0,l.jsx)(c.g,{children:(0,l.jsx)(o.X,{colSpan:6,children:(0,l.jsx)("div",{className:"text-center",children:"Error fetching servers"})})}):e=>(0,l.jsx)(c.g,{className:"cursor-pointer",onClick:()=>A(e),children:s=>(0,l.jsx)(o.X,{children:P(e,s)})},e.address)})]}),(0,l.jsx)(w.default,{}),(0,l.jsx)(C.default,{}),(0,l.jsx)(Z.default,{})]})}},96123:function(e,s,a){let l=(0,a(45478).Ue)(e=>({modal:{open:!1,server:null},setModal:s=>e({modal:s}),chatModal:{open:!1,server:null},setChatModal:s=>e({chatModal:s})}));s.Z=l},6389:function(e,s,a){a.d(s,{k:function(){return c}});var l=a(94773),r=a(44208),n=a(45478),t=a(83455),i=a(17054);let c=(0,n.Ue)(e=>({modules:[],setModules:s=>e(()=>({modules:s,isLoading:!1})),isLoading:!0,setLoading:s=>e(()=>({isLoading:s}))}));s.Z=()=>{let{data:e,isLoading:s}=(0,i.ZP)("/api/modules",t.Z),a=c(e=>e.setModules),n=c(e=>e.setLoading);return(0,r.useEffect)(()=>{e&&(a(e),n(!1))},[e,s,a,n]),(0,l.jsx)(l.Fragment,{})}}}]);