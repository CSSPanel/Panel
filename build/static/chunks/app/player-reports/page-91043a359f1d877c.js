(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8550],{71786:function(e,r,t){Promise.resolve().then(t.bind(t,28987))},28987:function(e,r,t){"use strict";t.d(r,{default:function(){return k}});var n=t(57437),s=t(16474),a=t(68710),i=t(71931),c=t(2265),o=t(12600),l=t(55294),u=t(49365),f=t(99008),d=t(65349),p=t(26067),m=t(80456),h=t(5216),v=t(61639),x=t(20564),y=t(93566),j=t(69064),b=t(27648),g=t(64906),w=e=>{let{id:r,reason:t,server:s,time:a,user:i,userId:o,target:w,targetId:N,handlerId:k,handler:O}=e,[P,R]=(0,c.useState)(!1),T=async()=>{if(!P){R(!0);try{open("steam://connect/".concat(s.address),"_self"),await g.Z.post("/api/admin/player-reports/".concat(r))}catch(e){console.error(e),j.ZP.error("Failed to connect to the server")}finally{R(!1)}}};return(0,n.jsxs)(l.w,{fullWidth:!0,children:[(0,n.jsxs)(u.u,{className:"font-semibold flex gap-3 justify-between text-lg",children:["Report #",r," ",(0,n.jsx)("span",{className:"font-normal text-sm",children:(0,m.Q)(a)+" ago"})]}),(0,n.jsx)(h.j,{}),(0,n.jsxs)(f.G,{className:"flex gap-2 text-sm p-2",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,n.jsx)("b",{children:"Suspect:"}),(0,n.jsx)(b.default,{href:"https://steamcommunity.com/profiles/"+N,className:"h-fit contents",target:"_blank",children:(0,n.jsx)(x.z,{name:(null==w?void 0:w.personaname)||N,avatarProps:{src:null==w?void 0:w.avatar,size:"sm"}})})]}),(0,n.jsx)(h.j,{className:"opacity-50"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,n.jsx)("b",{children:"Reason:"})," ",t]}),(0,n.jsx)(h.j,{className:"opacity-50"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,n.jsx)("b",{children:"Server:"})," ",s.hostname||s.address||"Unknown"," "]}),(0,n.jsx)(h.j,{className:"opacity-50"}),(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,n.jsx)("b",{children:"Status:"})," ",(0,n.jsx)(y.z,{size:"sm",color:k?"success":"warning",variant:"flat",children:k?(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,n.jsx)(p.Z,{size:14}),"Handled by"," ",(0,n.jsx)(b.default,{href:"https://steamcommunity.com/profiles/"+k,className:"underline",target:"_blank",children:(null==O?void 0:O.personaname)||k})]}):"Pending"})]})]}),(0,n.jsx)(h.j,{}),(0,n.jsxs)(d.i,{className:"flex justify-between text-sm",children:[(0,n.jsxs)("div",{children:["Reported by"," ",(0,n.jsx)(b.default,{href:"https://steamcommunity.com/profiles/"+o,target:"_blank",className:"text-primary-600 hover:underline",children:(null==i?void 0:i.personaname)||o})," "]}),(0,n.jsx)(v.A,{color:"primary",size:"sm",isDisabled:P||!!k,onClick:T,isLoading:P,children:"Connect & Handle"})]})]})},N=t(63861),k=()=>{let[e,r]=(0,c.useState)(10),[t]=(0,i.Nr)(e,500),{data:l,isLoading:u}=(0,N.ZP)("/api/admin/player-reports?minutes=".concat(t),o.Z);return(0,n.jsxs)("div",{className:"w-full min-h-unit-24 flex flex-col",children:[(0,n.jsxs)("div",{className:"w-full mb-10 flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Player Reports"}),(0,n.jsxs)("p",{className:"text-sm font-normal",children:["Here you can see all the reports that players have sent.",(0,n.jsx)("br",{}),"This list is updated in real-time and shows reports from up to 10 minutes.",(0,n.jsx)("br",{}),"The page is only visible to admins."]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(a.Y,{value:e.toString(),onChange:e=>r(parseInt(e.target.value)),label:"Minutes ago",variant:"bordered",placeholder:"10",type:"number"})})]}),u?(0,n.jsx)(s.c,{}):(0,n.jsx)("div",{className:"grid grid-cols-3 gap-6",children:l&&l.map(e=>(0,n.jsx)(w,{...e},e.id))})]})}},35482:function(e,r,t){"use strict";t.d(r,{Z:function(){return x}});var n=t(2265),s=t(40718),a=t.n(s),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},c=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(e,r,t)=>r in e?c(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,m=(e,r)=>{for(var t in r||(r={}))f.call(r,t)&&p(e,t,r[t]);if(u)for(var t of u(r))d.call(r,t)&&p(e,t,r[t]);return e},h=(e,r)=>o(e,l(r)),v=(e,r)=>{var t={};for(var n in e)f.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&u)for(var n of u(e))0>r.indexOf(n)&&d.call(e,n)&&(t[n]=e[n]);return t},x=(e,r,t)=>{let s=(0,n.forwardRef)((r,s)=>{var{color:a="currentColor",size:c=24,stroke:o=2,children:l}=r,u=v(r,["color","size","stroke","children"]);return(0,n.createElement)("svg",m(h(m({ref:s},i),{width:c,height:c,stroke:a,strokeWidth:o,className:"tabler-icon tabler-icon-".concat(e)}),u),[...t.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...l||[]])});return s.propTypes={color:a().string,size:a().oneOfType([a().string,a().number]),stroke:a().oneOfType([a().string,a().number])},s.displayName="".concat(r),s}},26067:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var n=(0,t(35482).Z)("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},48049:function(e,r,t){"use strict";var n=t(14397);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,r,t,s,a,i){if(i!==n){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:s};return t.PropTypes=t,t}},40718:function(e,r,t){e.exports=t(48049)()},14397:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},71931:function(e,r,t){"use strict";t.d(r,{Nr:function(){return i}});var n=t(2265);function s(e,r){return e===r}function a(e,r){return r}function i(e,r,t){var i=t&&t.equalityFn||s,c=(0,n.useReducer)(a,e),o=c[0],l=c[1],u=function(e,r,t){var s=this,a=(0,n.useRef)(null),i=(0,n.useRef)(0),c=(0,n.useRef)(null),o=(0,n.useRef)([]),l=(0,n.useRef)(),u=(0,n.useRef)(),f=(0,n.useRef)(e),d=(0,n.useRef)(!0);f.current=e;var p="undefined"!=typeof window,m=!r&&0!==r&&p;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var h=!!(t=t||{}).leading,v=!("trailing"in t)||!!t.trailing,x="maxWait"in t,y="debounceOnServer"in t&&!!t.debounceOnServer,j=x?Math.max(+t.maxWait||0,r):null;return(0,n.useEffect)(function(){return d.current=!0,function(){d.current=!1}},[]),(0,n.useMemo)(function(){var e=function(e){var r=o.current,t=l.current;return o.current=l.current=null,i.current=e,u.current=f.current.apply(t,r)},t=function(e,r){m&&cancelAnimationFrame(c.current),c.current=m?requestAnimationFrame(e):setTimeout(e,r)},n=function(e){if(!d.current)return!1;var t=e-a.current;return!a.current||t>=r||t<0||x&&e-i.current>=j},b=function(r){return c.current=null,v&&o.current?e(r):(o.current=l.current=null,u.current)},g=function e(){var s=Date.now();if(n(s))return b(s);if(d.current){var c=r-(s-a.current);t(e,x?Math.min(c,j-(s-i.current)):c)}},w=function(){if(p||y){var f=Date.now(),m=n(f);if(o.current=[].slice.call(arguments),l.current=s,a.current=f,m){if(!c.current&&d.current)return i.current=a.current,t(g,r),h?e(a.current):u.current;if(x)return t(g,r),e(a.current)}return c.current||t(g,r),u.current}};return w.cancel=function(){c.current&&(m?cancelAnimationFrame(c.current):clearTimeout(c.current)),i.current=0,o.current=a.current=l.current=c.current=null},w.isPending=function(){return!!c.current},w.flush=function(){return c.current?b(Date.now()):u.current},w},[h,x,r,j,v,m,p,y])}((0,n.useCallback)(function(e){return l(e)},[l]),r,t),f=(0,n.useRef)(e);return i(f.current,e)||(u(e),f.current=e),[o,u]}},12600:function(e,r,t){"use strict";var n=t(64906);r.Z=e=>n.Z.get(e).then(e=>e.data)},65349:function(e,r,t){"use strict";t.d(r,{i:function(){return l}});var n=t(27520),s=t(8774),a=t(41193),i=t(59702),c=t(57437),o=(0,s.Gp)((e,r)=>{var t;let{as:s,className:o,children:l,...u}=e,f=(0,a.gy)(r),{slots:d,classNames:p}=(0,n.R)(),m=(0,i.W)(null==p?void 0:p.footer,o);return(0,c.jsx)(s||"div",{ref:f,className:null==(t=d.footer)?void 0:t.call(d,{class:m}),...u,children:l})});o.displayName="NextUI.CardFooter";var l=o},5216:function(e,r,t){"use strict";t.d(r,{j:function(){return l}});var n=t(27246),s=t(21422),a=t(2265),i=t(8774),c=t(57437),o=(0,i.Gp)((e,r)=>{let{Component:t,getDividerProps:i}=function(e){var r;let t,i;let{as:c,className:o,orientation:l,...u}=e,f=c||"hr";"hr"===f&&"vertical"===l&&(f="div");let{separatorProps:d}=(r={elementType:"string"==typeof f?f:"hr",orientation:l},i=(0,n.z)(r,{enabled:"string"==typeof r.elementType}),("vertical"===r.orientation&&(t="vertical"),"hr"!==r.elementType)?{separatorProps:{...i,role:"separator","aria-orientation":t}}:{separatorProps:i}),p=(0,a.useMemo)(()=>(0,s.q)({orientation:l,className:o}),[l,o]);return{Component:f,getDividerProps:(0,a.useCallback)((e={})=>({className:p,role:"separator","data-orientation":l,...d,...u,...e}),[p,l,d,u])}}({...e});return(0,c.jsx)(t,{ref:r,...i()})});o.displayName="NextUI.Divider";var l=o},21422:function(e,r,t){"use strict";t.d(r,{q:function(){return n}});var n=(0,t(51886).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}})}},function(e){e.O(0,[3416,384,9064,1639,828,3022,7648,8811,3566,564,9297,2971,2117,1744],function(){return e(e.s=71786)}),_N_E=e.O()}]);