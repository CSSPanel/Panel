(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7413],{79736:function(e,t,r){Promise.resolve().then(r.bind(r,83514))},83514:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var a=r(97699),s=r(22510),n=r(29087),i=r(34388),o=r(95320),l=r(99304),d=r(9034),u=r(25728),c=r(87121),b=r(75227),f=r(44921),m=r(59914);let p=m.z.object({STEAM_API_KEY:m.z.string().min(1),SESSION_SECRET:m.z.string().min(1).optional(),DOMAIN:m.z.string().min(1),DB_HOST:m.z.string().min(1),DB_USER:m.z.string().min(1),DB_PASSWORD:m.z.string().min(1),DB_DATABASE:m.z.string().min(1),DB_PORT:m.z.string().min(1),MASTER_ADMIN:m.z.string().min(1)}),h=m.z.object({DB_HOST:m.z.string().min(1),DB_USER:m.z.string().min(1),DB_PASSWORD:m.z.string().min(1),DB_DATABASE:m.z.string().min(1),DB_PORT:m.z.string().min(1)});var g=r(83050),x=r(63357),v=r(57157),y=()=>{let[e,t]=(0,o.useState)(0),[r,m]=(0,o.useState)(!1),y=(0,s.c)({initialValues:{STEAM_API_KEY:"",DOMAIN:"",DB_HOST:"",DB_USER:"",DB_PASSWORD:"",DB_DATABASE:"",DB_PORT:"3306",MASTER_ADMIN:""},validate:(0,n.F)(p)}),D=async()=>{m(!0);try{await x.Z.post("/api/admin/db",y.values),g.ZP.success("Database connection is valid!"),t(2)}catch(e){console.error(e),g.ZP.error("Failed to connect to the database!")}m(!1)},A=async()=>{if(!r){m(!0);try{await x.Z.post("/api/admin/setup",y.values),g.ZP.success("Succesfully setup the panel!"),t(3)}catch(e){console.error(e),g.ZP.error("Failed to setup the panel!")}m(!1)}},S=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{children:["Please fill in the following settings to setup the panel.",(0,a.jsx)("br",{}),"Make sure to have your database ready and a Steam API key. ",(0,a.jsx)("br",{}),"The following setting will be saved under the ",(0,a.jsx)("code",{children:".env"})," file in your website folder.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("b",{children:"Important note: "}),"If you are using Easypanel or Vercel, or not self hosting your website, you will need to"," ",(0,a.jsxs)(v.default,{href:"https://csspanel.dev/docs/quickstart",target:"_blank",className:"underline",children:["manually add the settings to your ",(0,a.jsx)("code",{children:".env"})," file."]})]})}),P=async()=>{switch(e){case 0:t(1);break;case 1:try{h.parse(y.values),await D()}catch(e){console.error(e),g.ZP.error("Invalid database settings!")}break;case 2:await A()}};switch(e){case 1:S=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Y,{label:"Database URL",placeholder:"1.1.1.1",errorMessage:y.errors.DB_HOST,isInvalid:!!y.errors.DB_HOST,type:"text",variant:"bordered",disabled:r,...y.getInputProps("DB_HOST")}),(0,a.jsx)(i.Y,{label:"Database User",placeholder:"root",errorMessage:y.errors.DB_USER,isInvalid:!!y.errors.DB_USER,type:"text",variant:"bordered",disabled:r,autoComplete:"off",...y.getInputProps("DB_USER")}),(0,a.jsx)(i.Y,{label:"Database Password",placeholder:"111111",errorMessage:y.errors.DB_PASSWORD,isInvalid:!!y.errors.DB_PASSWORD,type:"password",variant:"bordered",autoComplete:"off",disabled:r,...y.getInputProps("DB_PASSWORD")}),(0,a.jsx)(i.Y,{label:"Database Name",placeholder:"DB_NAME",errorMessage:y.errors.DB_DATABASE,isInvalid:!!y.errors.DB_DATABASE,type:"text",variant:"bordered",disabled:r,...y.getInputProps("DB_DATABASE")}),(0,a.jsx)(i.Y,{label:"Database Port",placeholder:"DB_PORT",errorMessage:y.errors.DB_PORT,isInvalid:!!y.errors.DB_PORT,type:"number",variant:"bordered",disabled:r,...y.getInputProps("DB_PORT")})]});break;case 2:S=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Y,{label:"Website Domain",description:"The url of your website, e.g. https://example.com",placeholder:"https://example.com",errorMessage:y.errors.DOMAIN,isInvalid:!!y.errors.DOMAIN,type:"text",variant:"bordered",disabled:r,...y.getInputProps("DOMAIN")}),(0,a.jsx)(i.Y,{label:"Steam API Key",description:(0,a.jsxs)(a.Fragment,{children:["Get your Steam API key from"," ",(0,a.jsx)(v.default,{href:"https://steamcommunity.com/dev/apikey",target:"_blank",children:"https://steamcommunity.com/dev/apikey"})]}),placeholder:"eg, 74B762FA601616732",errorMessage:y.errors.STEAM_API_KEY,isInvalid:!!y.errors.STEAM_API_KEY,type:"text",variant:"bordered",disabled:r,...y.getInputProps("STEAM_API_KEY")}),(0,a.jsx)(i.Y,{label:"Master Admin",description:"Steam 64",placeholder:"eg, 76561198000000000",errorMessage:y.errors.MASTER_ADMIN,isInvalid:!!y.errors.MASTER_ADMIN,type:"text",variant:"bordered",disabled:r,...y.getInputProps("MASTER_ADMIN")})]});break;case 3:S=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Setup complete!"}),(0,a.jsx)("p",{children:"Please restart the panel for the changes to take effect."})]})}return(0,a.jsxs)(l.w,{className:"container mx-auto my-auto",children:[(0,a.jsx)(d.u,{className:"flex flex-col items-start gap-2",children:(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Setup CSS-Panel"})}),(0,a.jsx)(u.G,{className:"flex flex-col gap-4 p-6",children:S}),(0,a.jsxs)(c.i,{className:"border-t relative flex items-center py-4 pt-6",children:[(0,a.jsx)(b.W,{value:e/3*100,className:"absolute top-0 w-full right-0 left-0 h-1.5",classNames:{track:"rounded-none"},color:"primary",size:"sm","aria-label":"Progress"}),(0,a.jsx)(f.A,{onClick:P,size:"lg",isLoading:r,color:"primary",className:"min-w-[200px] mx-auto",isDisabled:3===e,children:"Continue"})]})]})}},25728:function(e,t,r){"use strict";r.d(t,{G:function(){return d}});var a=r(78553),s=r(26604),n=r(4015),i=r(90790),o=r(97699),l=(0,s.Gp)((e,t)=>{var r;let{as:s,className:l,children:d,...u}=e,c=(0,n.gy)(t),{slots:b,classNames:f}=(0,a.R)(),m=(0,i.W)(null==f?void 0:f.body,l);return(0,o.jsx)(s||"div",{ref:c,className:null==(r=b.body)?void 0:r.call(b,{class:m}),...u,children:d})});l.displayName="NextUI.CardBody";var d=l},9034:function(e,t,r){"use strict";r.d(t,{u:function(){return d}});var a=r(78553),s=r(26604),n=r(4015),i=r(90790),o=r(97699),l=(0,s.Gp)((e,t)=>{var r;let{as:s,className:l,children:d,...u}=e,c=(0,n.gy)(t),{slots:b,classNames:f}=(0,a.R)(),m=(0,i.W)(null==f?void 0:f.header,l);return(0,o.jsx)(s||"div",{ref:c,className:null==(r=b.header)?void 0:r.call(b,{class:m}),...u,children:d})});l.displayName="NextUI.CardHeader";var d=l},87121:function(e,t,r){"use strict";r.d(t,{i:function(){return d}});var a=r(78553),s=r(26604),n=r(4015),i=r(90790),o=r(97699),l=(0,s.Gp)((e,t)=>{var r;let{as:s,className:l,children:d,...u}=e,c=(0,n.gy)(t),{slots:b,classNames:f}=(0,a.R)(),m=(0,i.W)(null==f?void 0:f.footer,l);return(0,o.jsx)(s||"div",{ref:c,className:null==(r=b.footer)?void 0:r.call(b,{class:m}),...u,children:d})});l.displayName="NextUI.CardFooter";var d=l},78553:function(e,t,r){"use strict";r.d(t,{R:function(){return s},k:function(){return a}});var[a,s]=(0,r(27938).k)({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"})},99304:function(e,t,r){"use strict";r.d(t,{w:function(){return N}});var a=r(78553),s=r(4919),n=r(51077),i=(0,s.tv)({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...n.Dh],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}}),o=r(95320),l=r(83689),d=r(33531),u=r(57606),c=r(72716),b=r(47895),f=r(26604),m=r(90790),p=r(14967),h=r(21903),g=r(36103),x=r(4015),v=r(8992),y=r(35645),D=r(91098),A=r(78168),S=r(51771),P=r(97699),_=e=>{let{ripples:t=[],motionProps:r,color:a="currentColor",style:s,onClear:n}=e;return(0,P.jsx)(P.Fragment,{children:t.map(e=>{let t=(0,S.uZ)(.01*e.size,.2,e.size>100?.75:.5);return(0,P.jsx)(v.M,{mode:"popLayout",children:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(y.X,{features:D.H,children:(0,P.jsx)(A.m.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:a,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:e.y,left:e.x,width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),...s},transition:{duration:t},onAnimationComplete:()=>{n(e.key)},...r})})})},e.key)})})};_.displayName="NextUI.Ripple";var w=(0,f.Gp)((e,t)=>{let{children:r,context:s,Component:n,isPressable:v,disableAnimation:y,disableRipple:D,getCardProps:A,getRippleProps:S}=function(e){let[t,r]=(0,f.oe)(e,i.variantKeys),{ref:a,as:s,children:n,disableRipple:v=!1,onClick:y,onPress:D,autoFocus:A,className:S,classNames:P,allowTextSelectionOnPress:_=!0,...w}=t,N=(0,x.gy)(a),B=s||(e.isPressable?"button":"div"),I="string"==typeof B,k=(0,m.W)(null==P?void 0:P.base,S),{onClick:j,onClear:M,ripples:E}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,o.useState)([]);return{ripples:t,onClick:(0,o.useCallback)(e=>{let t=e.currentTarget,a=Math.max(t.clientWidth,t.clientHeight),s=t.getBoundingClientRect();r(t=>[...t,{key:(0,p.QI)(t.length.toString()),size:a,x:e.clientX-s.left-a/2,y:e.clientY-s.top-a/2}])},[]),onClear:(0,o.useCallback)(e=>{r(t=>t.filter(t=>t.key!==e))},[]),...e}}(),T=t=>{e.disableAnimation||v||!N.current||j(t)},{buttonProps:R,isPressed:C}=(0,b.j)({onPress:D,elementType:s,isDisabled:!e.isPressable,onClick:(0,l.t)(y,T),allowTextSelectionOnPress:_,...w},N),{hoverProps:z,isHovered:O}=(0,c.X)({isDisabled:!e.isHoverable,...w}),{isFocusVisible:F,isFocused:W,focusProps:H}=(0,u.F)({autoFocus:A}),U=(0,o.useMemo)(()=>i({...r}),[(0,p.Xx)(r)]),Y=(0,o.useMemo)(()=>({isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,disableAnimation:e.disableAnimation,fullWidth:e.fullWidth,slots:U,classNames:P}),[U,P,e.isDisabled,e.isFooterBlurred,e.disableAnimation,e.fullWidth]),L=(0,o.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:N,className:U.base({class:k}),tabIndex:e.isPressable?0:-1,"data-hover":(0,h.PB)(O),"data-pressed":(0,h.PB)(C),"data-focus":(0,h.PB)(W),"data-focus-visible":(0,h.PB)(F),"data-disabled":(0,h.PB)(e.isDisabled),...(0,d.d)(e.isPressable?{...R,...H,role:"button"}:{},e.isHoverable?z:{},(0,g.z)(w,{enabled:I}),(0,g.z)(t))}},[N,U,k,I,e.isPressable,e.isHoverable,e.isDisabled,O,C,F,R,H,z,w]),Z=(0,o.useCallback)(()=>({ripples:E,onClear:M}),[E,M]);return{context:Y,domRef:N,Component:B,classNames:P,children:n,isHovered:O,isPressed:C,isPressable:e.isPressable,isHoverable:e.isHoverable,disableAnimation:e.disableAnimation,disableRipple:v,handleClick:T,isFocusVisible:F,getCardProps:L,getRippleProps:Z}}({...e,ref:t});return(0,P.jsxs)(n,{...A(),children:[(0,P.jsx)(a.k,{value:s,children:r}),v&&!y&&!D&&(0,P.jsx)(_,{...S()})]})});w.displayName="NextUI.Card";var N=w},41799:function(e,t,r){"use strict";r.d(t,{b:function(){return p},j:function(){return h}});let a=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),s=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function n(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize(),r="function"==typeof t.getTextInfo?t.getTextInfo():t.textInfo;if(r)return"rtl"===r.direction;if(t.script)return a.has(t.script)}let t=e.split("-")[0];return s.has(t)}var i=r(95320),o=r(42358);let l=Symbol.for("react-aria.i18n.locale");function d(){let e="undefined"!=typeof window&&window[l]||"undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:n(e)?"rtl":"ltr"}}let u=d(),c=new Set;function b(){for(let e of(u=d(),c))e(u)}function f(){let e=(0,o.Av)(),[t,r]=(0,i.useState)(u);return((0,i.useEffect)(()=>(0===c.size&&window.addEventListener("languagechange",b),c.add(r),()=>{c.delete(r),0===c.size&&window.removeEventListener("languagechange",b)}),[]),e)?{locale:"en-US",direction:"ltr"}:t}let m=i.createContext(null);function p(e){let{locale:t,children:r}=e,a=f(),s=i.useMemo(()=>t?{locale:t,direction:n(t)?"rtl":"ltr"}:a,[a,t]);return i.createElement(m.Provider,{value:s},r)}function h(){let e=f();return(0,i.useContext)(m)||e}},83709:function(e,t,r){"use strict";function a(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}function s(e,t){let r=e,a=t.toString(),s=a.indexOf("."),n=s>=0?a.length-s:0;if(n>0){let e=Math.pow(10,n);r=Math.round(r*e)/e}return r}function n(e,t,r,a){t=Number(t),r=Number(r);let n=(e-(isNaN(t)?0:t))%a,i=s(2*Math.abs(n)>=a?e+Math.sign(n)*(a-Math.abs(n)):e-n,a);return isNaN(t)?!isNaN(r)&&i>r&&(i=Math.floor(s(r/a,a))*a):i<t?i=t:!isNaN(r)&&i>r&&(i=t+Math.floor(s((r-t)/a,a))*a),i=s(i,a)}r.d(t,{N4:function(){return n},uZ:function(){return a}})}},function(e){e.O(0,[7999,6323,3050,4921,4388,7157,9914,2510,3558,8129,8106,1744],function(){return e(e.s=79736)}),_N_E=e.O()}]);