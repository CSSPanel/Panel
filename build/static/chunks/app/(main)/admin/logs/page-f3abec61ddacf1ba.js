(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9827],{1542:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,mg:()=>l,vx:()=>n});var r=a(4394),s=a(4452),o=a(87031),i=a(59241);let n=async()=>{await (0,i.A)("/api/auth/logout"),await (0,s.Tk)("/api/auth"),r.oR.success("Logged out successfully")},l=()=>{let e=window.innerWidth/2-300,t=window.innerHeight/2-400,a=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(t,", left=").concat(e)),o=setInterval(async()=>{a&&a.closed&&(await (0,s.Tk)("/api/auth"),r.oR.success("Logged in successfully!"),clearInterval(o))},1e3)},d=()=>{let{data:e,isLoading:t,error:a}=(0,s.Ay)("/api/auth",o.A);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:a||!e?null:e.user,admin:a||!e?null:e.admin,masterAdmin:!a&&!!e&&e.masterAdmin,isLoading:t}}},4576:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(68305),s=a(77919),o=a(43999),i=a(24711),n=a(75819),l=(0,s.Rf)((e,t)=>{var a;let{as:s,className:l,children:d,...u}=e,m=(0,o.zD)(t),{slots:c,classNames:p}=(0,r.f)(),h=(0,i.$)(null==p?void 0:p.footer,l);return(0,n.jsx)(s||"div",{ref:m,className:null==(a=c.footer)?void 0:a.call(c,{class:h}),...u,children:d})});l.displayName="NextUI.CardFooter";var d=l},9316:(e,t,a)=>{"use strict";a.d(t,{y:()=>d});var r=a(93232),s=(0,a(94997).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),o=a(56027),i=a(77919),n=a(75819),l=(0,i.Rf)((e,t)=>{let{Component:a,getDividerProps:i}=function(e){var t;let a,i;let{as:n,className:l,orientation:d,...u}=e,m=n||"hr";"hr"===m&&"vertical"===d&&(m="div");let{separatorProps:c}=(t={elementType:"string"==typeof m?m:"hr",orientation:d},i=(0,r.$)(t,{enabled:"string"==typeof t.elementType}),("vertical"===t.orientation&&(a="vertical"),"hr"!==t.elementType)?{separatorProps:{...i,role:"separator","aria-orientation":a}}:{separatorProps:i}),p=(0,o.useMemo)(()=>s({orientation:d,className:l}),[d,l]);return{Component:m,getDividerProps:(0,o.useCallback)((e={})=>({className:p,role:"separator","data-orientation":d,...c,...u,...e}),[p,d,c,u])}}({...e});return(0,n.jsx)(a,{ref:t,...i()})});l.displayName="NextUI.Divider";var d=l},9351:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var r=a(75819),s=a(19219),o=a(26935),i=a(56027),n=a(1542);let l=e=>{let{children:t,flags:a}=e,{admin:l,isLoading:d}=(0,n.Ay)(),u=(0,o.useRouter)();return(0,i.useEffect)(()=>{if(!d&&(!l||a.length>0&&!a.some(e=>{var t;return null===(t=l.flags)||void 0===t?void 0:t.includes(e)})))return u.push("/")},[l,d,u,a]),d?(0,r.jsx)(s.o,{}):l?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(r.Fragment,{children:"No Access"})}},19500:(e,t,a)=>{"use strict";a.d(t,{b:()=>u,default:()=>d});var r=a(75819),s=a(95889),o=a(26935),i=a(74735),n=a(96904),l=a(1542);let d=()=>{let e=(0,o.usePathname)(),t=(0,o.useRouter)(),{admin:a}=(0,l.Ay)(),d=(null==a?void 0:a.flags)||[],m=(0,s.q)(e=>e.modules),c=u.filter(e=>e.permissions.some(e=>d.includes(e))).filter(e=>{if(e.module){let t=m.find(t=>t.identifier===e.module);if(!t||!t.enabled)return!1}return!0});return(0,r.jsx)(i.r,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>t.push(e),items:c,children:e=>(0,r.jsx)(n.i,{title:e.title},e.path)})},u=[{path:"/admin",title:"Statistics",permissions:["@web/root","@web/logs","@css/root","@web/stats"]},{path:"/admin/modules",title:"Modules",permissions:["@web/root","@css/root"]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers","@web/rcon"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/advertisements",title:"Advertisements (module)",permissions:["@web/root","@css/root","@web/logs"],module:"advertisements"},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},26935:(e,t,a)=>{"use strict";var r=a(80607);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},57719:(e,t,a)=>{"use strict";a.d(t,{k:()=>o});var r=a(92735),s=a(56027);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,a]=(0,s.useState)([]);return{ripples:t,onClick:(0,s.useCallback)(e=>{let t=e.currentTarget,s=Math.max(t.clientWidth,t.clientHeight),o=t.getBoundingClientRect();a(t=>[...t,{key:(0,r.Lz)(t.length.toString()),size:s,x:e.clientX-o.left-s/2,y:e.clientY-o.top-s/2}])},[]),onClear:(0,s.useCallback)(e=>{a(t=>t.filter(t=>t.key!==e))},[]),...e}}},67630:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(75819),s=a(56027),o=a(26331),i=a(87480),n=a(77751),l=a(4576),d=a(15085),u=a(19219),m=a(26935),c=a(19500),p=a(27580),h=a(26499),g=a(9351),f=a(87031),v=a(4452),b=a(92506),w=a(9316),x=a(57507);let y=e=>{var t,a,s;let{admin:d,message:u,title:m,time:c}=e;return(0,r.jsxs)(o.Z,{fullWidth:!0,children:[d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.d,{className:"flex gap-3",children:[(0,r.jsx)(b.W,{alt:(null===(t=d.user)||void 0===t?void 0:t.personaname)||d.player_name,height:40,radius:"sm",src:null===(a=d.user)||void 0===a?void 0:a.avatarmedium,width:40}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"text-md font-medium",children:(null===(s=d.user)||void 0===s?void 0:s.personaname)||d.player_name}),(0,r.jsx)("p",{className:"text-small text-default-500",children:"Flags"})]})]}),(0,r.jsx)(w.y,{})]}),(0,r.jsxs)(n.U,{children:[(0,r.jsx)("h4",{className:"text-lg font-medium",children:m}),(0,r.jsx)("p",{className:"text-sm",children:u})]}),(0,r.jsx)(w.y,{}),(0,r.jsx)(l.Z,{className:"text-sm",children:(0,x.m)(c)+" ago"})]})},j=()=>{var e;let[t,a]=(0,s.useState)(1),[b,w]=(0,s.useState)(""),[x]=(0,h.d7)(b,1e3),{data:j,isLoading:N}=(0,v.Ay)("/api/admin/logs?page=".concat(t,"&rows=").concat(20,"&query=").concat(x),f.A,{keepPreviousData:!0}),k=(0,s.useMemo)(()=>(null==j?void 0:j.count)?Math.ceil(j.count/20):0,[null==j?void 0:j.count,20]),z=(0,m.usePathname)(),A=c.b.find(e=>e.path===z);return(0,r.jsx)(g.default,{flags:(null==A?void 0:A.permissions)||[],children:(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(i.d,{className:"text-2xl font-medium flex flex-row justify-between items-center",children:[(0,r.jsx)("div",{children:"Logs"}),(0,r.jsx)(p.r,{label:"Search...",placeholder:"You can search by title or message...",className:"w-1/5",value:b,onValueChange:w,isClearable:!0})]}),(0,r.jsx)(n.U,{className:"grid lg:grid-cols-3 gap-4",children:N?(0,r.jsx)(u.o,{}):j&&(null===(e=j.results)||void 0===e?void 0:e.map(e=>(0,s.createElement)(y,{...e,key:e.id})))}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(d.T,{color:"primary",page:t,total:k,onChange:e=>a(e),className:"mx-auto mt-10",size:"sm",isCompact:!0,showControls:!0,showShadow:!0})})]})})}},75515:(e,t,a)=>{Promise.resolve().then(a.bind(a,67630))},87031:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(59241);let s=e=>r.A.get(e).then(e=>e.data)},92506:(e,t,a)=>{"use strict";a.d(t,{W:()=>p});var r=a(56027),s=a(77919),o=(0,a(94997).tv)({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),i=a(43999),n=a(92735),l=a(24711),d=a(300),u=a(53804),m=a(75819),c=(0,s.Rf)((e,t)=>{let{Component:a,domRef:c,slots:p,classNames:h,isBlurred:g,isZoomed:f,fallbackSrc:v,removeWrapper:b,disableSkeleton:w,getImgProps:x,getWrapperProps:y,getBlurredImgProps:j}=function(e){let[t,a]=(0,s.rE)(e,o.variantKeys),{ref:m,as:c,src:p,className:h,classNames:g,loading:f,isBlurred:v,fallbackSrc:b,isLoading:w,disableSkeleton:x=!!b,removeWrapper:y=!1,onError:j,onLoad:N,srcSet:k,sizes:z,crossOrigin:A,...C}=t,I=(0,u.l)({src:p,loading:f,onError:j,onLoad:N,ignoreFallback:!1,srcSet:k,sizes:z,crossOrigin:A}),S="loaded"===I&&!w,P="loading"===I||w,M=e.isZoomed,W=(0,i.zD)(m),{w:R}=(0,r.useMemo)(()=>({w:t.width?"number"==typeof t.width?"".concat(t.width,"px"):t.width:"fit-content"}),[null==t?void 0:t.width]),E=(!p||!S)&&!!b,L=P&&!x,F=(0,r.useMemo)(()=>o({...a,showSkeleton:L}),[(0,n.t6)(a),L]),_=(0,l.$)(h,null==g?void 0:g.img),Z=(0,r.useCallback)(()=>{let e=E?{backgroundImage:"url(".concat(b,")")}:{};return{className:F.wrapper({class:null==g?void 0:g.wrapper}),style:{...e,maxWidth:R}}},[F,E,b,null==g?void 0:g.wrapper]),T=(0,r.useCallback)(()=>({src:p,"aria-hidden":(0,d.sE)(!0),className:F.blurredImg({class:null==g?void 0:g.blurredImg})}),[F,p,null==g?void 0:g.blurredImg]);return{Component:c||"img",domRef:W,slots:F,classNames:g,isBlurred:v,disableSkeleton:x,fallbackSrc:b,removeWrapper:y,isZoomed:M,isLoading:P,getImgProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.$)(_,null==e?void 0:e.className);return{src:p,ref:W,"data-loaded":(0,d.sE)(S),className:F.img({class:t}),loading:f,srcSet:k,sizes:z,crossOrigin:A,...C}},getWrapperProps:Z,getBlurredImgProps:T}}({...e,ref:t}),N=(0,m.jsx)(a,{ref:c,...x()});if(b)return N;let k=(0,m.jsx)("div",{className:p.zoomedWrapper({class:null==h?void 0:h.zoomedWrapper}),children:N});return g?(0,m.jsxs)("div",{...y(),children:[f?k:N,(0,r.cloneElement)(N,j())]}):f||!w||v?(0,m.jsxs)("div",{...y(),children:[" ",f?k:N]}):N});c.displayName="NextUI.Image";var p=c},95637:(e,t,a)=>{"use strict";a.d(t,{j:()=>u});var r=a(16015),s=a(58153),o=a(73963),i=a(13556),n=a(26681),l=a(75819),d=e=>{let{ripples:t=[],motionProps:a,color:d="currentColor",style:u,onClear:m}=e;return(0,l.jsx)(l.Fragment,{children:t.map(e=>{let t=(0,n.qE)(.01*e.size,.2,e.size>100?.75:.5);return(0,l.jsx)(r.N,{mode:"popLayout",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.F,{features:o.l,children:(0,l.jsx)(i.m.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:d,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:e.y,left:e.x,width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),...u},transition:{duration:t},onAnimationComplete:()=>{m(e.key)},...a})})})},e.key)})})};d.displayName="NextUI.Ripple";var u=d},95889:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,q:()=>l});var r=a(75819),s=a(56027),o=a(33004),i=a(87031),n=a(4452);let l=(0,o.vt)(e=>({modules:[],setModules:t=>e(()=>({modules:t,isLoading:!1})),isLoading:!0,setLoading:t=>e(()=>({isLoading:t}))})),d=()=>{let{data:e,isLoading:t}=(0,n.Ay)("/api/modules",i.A),a=l(e=>e.setModules),o=l(e=>e.setLoading);return(0,s.useEffect)(()=>{e&&(a(e),o(!1))},[e,t,a,o]),(0,r.jsx)(r.Fragment,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4047,2446,4394,7166,494,5168,7580,8552,9026,22,6054,388,7358],()=>t(75515)),_N_E=e.O()}]);