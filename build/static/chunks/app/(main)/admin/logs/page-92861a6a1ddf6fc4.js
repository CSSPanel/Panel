(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6567],{59609:function(e,r,t){Promise.resolve().then(t.bind(t,62509))},90679:function(e,r,t){"use strict";var a=t(12412),s=t(80165),o=t(65979),n=t(11402),i=t(74837);r.default=e=>{let{children:r,flags:t}=e,{admin:l,isLoading:d}=(0,i.ZP)(),u=(0,o.useRouter)();return(0,n.useEffect)(()=>{if(!d&&(!l||t.length>0&&!t.some(e=>{var r;return null===(r=l.flags)||void 0===r?void 0:r.includes(e)})))return u.push("/")},[l,d,u,t]),d?(0,a.jsx)(s.c,{}):l?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsx)(a.Fragment,{children:"No Access"})}},54773:function(e,r,t){"use strict";t.d(r,{r:function(){return l}});var a=t(12412),s=t(65979),o=t(28365),n=t(13327),i=t(74837);r.default=()=>{let e=(0,s.usePathname)(),r=(0,s.useRouter)(),{admin:t}=(0,i.ZP)(),d=(null==t?void 0:t.flags)||[],u=l.filter(e=>e.permissions.some(e=>d.includes(e)));return(0,a.jsx)(o.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>r.push(e),items:u,children:e=>(0,a.jsx)(n.r,{title:e.title},e.path)})};let l=[{path:"/admin",title:"Statistics",permissions:["@web/root","@web/logs","@css/root","@web/stats"]},{path:"/admin/modules",title:"Modules",permissions:["@web/root","@css/root"]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers","@web/rcon"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},62509:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var a=t(12412),s=t(11402),o=t(97284),n=t(35508),i=t(40593),l=t(67543),d=t(95910),u=t(80165),c=t(65979),m=t(54773),p=t(10889),h=t(22155),g=t(90679),f=t(41920),v=t(1281),b=t(28312),w=t(63958),x=t(73162),j=e=>{var r,t,s;let{admin:d,message:u,title:c,time:m}=e;return(0,a.jsxs)(o.w,{fullWidth:!0,children:[d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.u,{className:"flex gap-3",children:[(0,a.jsx)(b.J,{alt:(null===(r=d.user)||void 0===r?void 0:r.personaname)||d.player_name,height:40,radius:"sm",src:null===(t=d.user)||void 0===t?void 0:t.avatarmedium,width:40}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-md font-medium",children:(null===(s=d.user)||void 0===s?void 0:s.personaname)||d.player_name}),(0,a.jsx)("p",{className:"text-small text-default-500",children:"Flags"})]})]}),(0,a.jsx)(w.j,{})]}),(0,a.jsxs)(i.G,{children:[(0,a.jsx)("h4",{className:"text-lg font-medium",children:c}),(0,a.jsx)("p",{className:"text-sm",children:u})]}),(0,a.jsx)(w.j,{}),(0,a.jsx)(l.i,{className:"text-sm",children:(0,x.Q)(m)+" ago"})]})},y=()=>{var e;let[r,t]=(0,s.useState)(1),[b,w]=(0,s.useState)(""),[x]=(0,h.Nr)(b,1e3),{data:y,isLoading:N}=(0,v.ZP)("/api/admin/logs?page=".concat(r,"&rows=").concat(20,"&query=").concat(x),f.Z,{keepPreviousData:!0}),P=(0,s.useMemo)(()=>(null==y?void 0:y.count)?Math.ceil(y.count/20):0,[null==y?void 0:y.count,20]),k=(0,c.usePathname)(),I=m.r.find(e=>e.path===k);return(0,a.jsx)(g.default,{flags:(null==I?void 0:I.permissions)||[],children:(0,a.jsxs)(o.w,{children:[(0,a.jsxs)(n.u,{className:"text-2xl font-medium flex flex-row justify-between items-center",children:[(0,a.jsx)("div",{children:"Logs"}),(0,a.jsx)(p.Y,{label:"Search...",placeholder:"You can search by title or message...",className:"w-1/5",value:b,onValueChange:w,isClearable:!0})]}),(0,a.jsx)(i.G,{className:"grid lg:grid-cols-3 gap-4",children:N?(0,a.jsx)(u.c,{}):y&&(null===(e=y.results)||void 0===e?void 0:e.map(e=>(0,s.createElement)(j,{...e,key:e.id})))}),(0,a.jsx)(l.i,{children:(0,a.jsx)(d.g,{color:"primary",page:r,total:P,onChange:e=>t(e),className:"mx-auto mt-10",size:"sm",isCompact:!0,showControls:!0,showShadow:!0})})]})})}},65979:function(e,r,t){"use strict";var a=t(54760);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},41920:function(e,r,t){"use strict";var a=t(30052);r.Z=e=>a.Z.get(e).then(e=>e.data)},74837:function(e,r,t){"use strict";t.d(r,{hY:function(){return i},jc:function(){return l}});var a=t(65414),s=t(1281),o=t(41920),n=t(30052);let i=async()=>{await (0,n.Z)("/api/auth/logout"),await (0,s.JG)("/api/auth"),a.Am.success("Logged out successfully")},l=()=>{let e=window.innerWidth/2-300,r=window.innerHeight/2-400,t=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(r,", left=").concat(e)),o=setInterval(async()=>{t&&t.closed&&(await (0,s.JG)("/api/auth"),a.Am.success("Logged in successfully!"),clearInterval(o))},1e3)};r.ZP=()=>{let{data:e,isLoading:r,error:t}=(0,s.ZP)("/api/auth",o.Z);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:t||!e?null:e.user,admin:t||!e?null:e.admin,isLoading:r}}},67543:function(e,r,t){"use strict";t.d(r,{i:function(){return d}});var a=t(75955),s=t(7923),o=t(54299),n=t(71780),i=t(12412),l=(0,s.Gp)((e,r)=>{var t;let{as:s,className:l,children:d,...u}=e,c=(0,o.gy)(r),{slots:m,classNames:p}=(0,a.R)(),h=(0,n.W)(null==p?void 0:p.footer,l);return(0,i.jsx)(s||"div",{ref:c,className:null==(t=m.footer)?void 0:t.call(m,{class:h}),...u,children:d})});l.displayName="NextUI.CardFooter";var d=l},63958:function(e,r,t){"use strict";t.d(r,{j:function(){return d}});var a=t(30453),s=(0,t(61319).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),o=t(11402),n=t(7923),i=t(12412),l=(0,n.Gp)((e,r)=>{let{Component:t,getDividerProps:n}=function(e){var r;let t,n;let{as:i,className:l,orientation:d,...u}=e,c=i||"hr";"hr"===c&&"vertical"===d&&(c="div");let{separatorProps:m}=(r={elementType:"string"==typeof c?c:"hr",orientation:d},n=(0,a.z)(r,{enabled:"string"==typeof r.elementType}),("vertical"===r.orientation&&(t="vertical"),"hr"!==r.elementType)?{separatorProps:{...n,role:"separator","aria-orientation":t}}:{separatorProps:n}),p=(0,o.useMemo)(()=>s({orientation:d,className:l}),[d,l]);return{Component:c,getDividerProps:(0,o.useCallback)((e={})=>({className:p,role:"separator","data-orientation":d,...m,...u,...e}),[p,d,m,u])}}({...e});return(0,i.jsx)(t,{ref:r,...n()})});l.displayName="NextUI.Divider";var d=l},28312:function(e,r,t){"use strict";t.d(r,{J:function(){return m}});var a=t(11402),s=t(7923),o=(0,t(61319).tv)({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),n=t(54299),i=t(71780),l=t(65459),d=t(78562),u=t(12412),c=(0,s.Gp)((e,r)=>{let{Component:t,domRef:c,slots:m,classNames:p,isBlurred:h,isZoomed:g,fallbackSrc:f,removeWrapper:v,disableSkeleton:b,getImgProps:w,getWrapperProps:x,getBlurredImgProps:j}=function(e){let[r,t]=(0,s.oe)(e,o.variantKeys),{ref:u,as:c,src:m,className:p,classNames:h,loading:g,isBlurred:f,fallbackSrc:v,isLoading:b,disableSkeleton:w=!!v,removeWrapper:x=!1,onError:j,onLoad:y,srcSet:N,sizes:P,crossOrigin:k,...I}=r,z=(0,d.d)({src:m,loading:g,onError:j,onLoad:y,ignoreFallback:!1,srcSet:N,sizes:P,crossOrigin:k}),S="loaded"===z&&!b,W="loading"===z||b,C=e.isZoomed,Z=(0,n.gy)(u),{w:M}=(0,a.useMemo)(()=>({w:r.width?"number"==typeof r.width?"".concat(r.width,"px"):r.width:"fit-content"}),[null==r?void 0:r.width]),_=(!m||!S)&&!!v,A=W&&!w,G=(0,a.useMemo)(()=>o({...t,showSkeleton:A}),[...Object.values(t),A]),E=(0,i.W)(p,null==h?void 0:h.img),F=(0,a.useCallback)(()=>{let e=_?{backgroundImage:"url(".concat(v,")")}:{};return{className:G.wrapper({class:null==h?void 0:h.wrapper}),style:{...e,maxWidth:M}}},[G,_,v,null==h?void 0:h.wrapper]),R=(0,a.useCallback)(()=>({src:m,"aria-hidden":(0,l.PB)(!0),className:G.blurredImg({class:null==h?void 0:h.blurredImg})}),[G,m,null==h?void 0:h.blurredImg]);return{Component:c||"img",domRef:Z,slots:G,classNames:h,isBlurred:f,disableSkeleton:w,fallbackSrc:v,removeWrapper:x,isZoomed:C,isLoading:W,getImgProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,i.W)(E,null==e?void 0:e.className);return{src:m,ref:Z,"data-loaded":(0,l.PB)(S),className:G.img({class:r}),loading:g,srcSet:N,sizes:P,crossOrigin:k,...I}},getWrapperProps:F,getBlurredImgProps:R}}({...e,ref:r}),y=(0,u.jsx)(t,{ref:c,...w()});if(v)return y;let N=(0,u.jsx)("div",{className:m.zoomedWrapper({class:null==p?void 0:p.zoomedWrapper}),children:y});return h?(0,u.jsxs)("div",{...x(),children:[g?N:y,(0,a.cloneElement)(y,j())]}):g||!b||f?(0,u.jsxs)("div",{...x(),children:[" ",g?N:y]}):y});c.displayName="NextUI.Image";var m=c}},function(e){e.O(0,[687,9020,9208,1281,5414,6187,2163,5204,1973,5586,3866,7416,1744],function(){return e(e.s=59609)}),_N_E=e.O()}]);