(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6567],{25956:function(e,r,t){Promise.resolve().then(t.bind(t,41434))},26995:function(e,r,t){"use strict";var n=t(57437),a=t(16474),s=t(99376),o=t(2265),i=t(20641);r.default=e=>{let{children:r,flags:t}=e,{admin:l,isLoading:u}=(0,i.ZP)(),d=(0,s.useRouter)();return(0,o.useEffect)(()=>{if(!u&&(!l||t.length>0&&!t.some(e=>{var r;return null===(r=l.flags)||void 0===r?void 0:r.includes(e)})))return d.push("/")},[l,u,d,t]),u?(0,n.jsx)(a.c,{}):l?(0,n.jsx)(n.Fragment,{children:r}):(0,n.jsx)(n.Fragment,{children:"No Access"})}},99084:function(e,r,t){"use strict";t.d(r,{r:function(){return u}});var n=t(57437),a=t(34400),s=t(99376),o=t(68656),i=t(38480),l=t(20641);r.default=()=>{let e=(0,s.usePathname)(),r=(0,s.useRouter)(),{admin:t}=(0,l.ZP)(),d=(null==t?void 0:t.flags)||[],c=(0,a.k)(e=>e.modules),m=u.filter(e=>e.permissions.some(e=>d.includes(e))).filter(e=>{if(e.module){let r=c.find(r=>r.identifier===e.module);if(!r||!r.enabled)return!1}return!0});return(0,n.jsx)(o.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>r.push(e),items:m,children:e=>(0,n.jsx)(i.r,{title:e.title},e.path)})};let u=[{path:"/admin",title:"Statistics",permissions:["@web/root","@web/logs","@css/root","@web/stats"]},{path:"/admin/modules",title:"Modules",permissions:["@web/root","@css/root"]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers","@web/rcon"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/advertisements",title:"Advertisements (module)",permissions:["@web/root","@css/root","@web/logs"],module:"advertisements"},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},41434:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var n=t(57437),a=t(2265),s=t(55294),o=t(49365),i=t(99008),l=t(65349),u=t(95502),d=t(16474),c=t(99376),m=t(99084),f=t(68710),p=t(71931),g=t(26995),h=t(12600),v=t(63861),b=t(73067),w=t(5216),x=t(80456),y=e=>{var r,t,a;let{admin:u,message:d,title:c,time:m}=e;return(0,n.jsxs)(s.w,{fullWidth:!0,children:[u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.u,{className:"flex gap-3",children:[(0,n.jsx)(b.J,{alt:(null===(r=u.user)||void 0===r?void 0:r.personaname)||u.player_name,height:40,radius:"sm",src:null===(t=u.user)||void 0===t?void 0:t.avatarmedium,width:40}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("p",{className:"text-md font-medium",children:(null===(a=u.user)||void 0===a?void 0:a.personaname)||u.player_name}),(0,n.jsx)("p",{className:"text-small text-default-500",children:"Flags"})]})]}),(0,n.jsx)(w.j,{})]}),(0,n.jsxs)(i.G,{children:[(0,n.jsx)("h4",{className:"text-lg font-medium",children:c}),(0,n.jsx)("p",{className:"text-sm",children:d})]}),(0,n.jsx)(w.j,{}),(0,n.jsx)(l.i,{className:"text-sm",children:(0,x.Q)(m)+" ago"})]})},j=()=>{var e;let[r,t]=(0,a.useState)(1),[b,w]=(0,a.useState)(""),[x]=(0,p.Nr)(b,1e3),{data:j,isLoading:N}=(0,v.ZP)("/api/admin/logs?page=".concat(r,"&rows=").concat(20,"&query=").concat(x),h.Z,{keepPreviousData:!0}),k=(0,a.useMemo)(()=>(null==j?void 0:j.count)?Math.ceil(j.count/20):0,[null==j?void 0:j.count,20]),P=(0,c.usePathname)(),I=m.r.find(e=>e.path===P);return(0,n.jsx)(g.default,{flags:(null==I?void 0:I.permissions)||[],children:(0,n.jsxs)(s.w,{children:[(0,n.jsxs)(o.u,{className:"text-2xl font-medium flex flex-row justify-between items-center",children:[(0,n.jsx)("div",{children:"Logs"}),(0,n.jsx)(f.Y,{label:"Search...",placeholder:"You can search by title or message...",className:"w-1/5",value:b,onValueChange:w,isClearable:!0})]}),(0,n.jsx)(i.G,{className:"grid lg:grid-cols-3 gap-4",children:N?(0,n.jsx)(d.c,{}):j&&(null===(e=j.results)||void 0===e?void 0:e.map(e=>(0,a.createElement)(y,{...e,key:e.id})))}),(0,n.jsx)(l.i,{children:(0,n.jsx)(u.g,{color:"primary",page:r,total:k,onChange:e=>t(e),className:"mx-auto mt-10",size:"sm",isCompact:!0,showControls:!0,showShadow:!0})})]})})}},99376:function(e,r,t){"use strict";var n=t(35475);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},12600:function(e,r,t){"use strict";var n=t(64906);r.Z=e=>n.Z.get(e).then(e=>e.data)},20641:function(e,r,t){"use strict";t.d(r,{hY:function(){return i},jc:function(){return l}});var n=t(69064),a=t(63861),s=t(12600),o=t(64906);let i=async()=>{await (0,o.Z)("/api/auth/logout"),await (0,a.JG)("/api/auth"),n.Am.success("Logged out successfully")},l=()=>{let e=window.innerWidth/2-300,r=window.innerHeight/2-400,t=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(r,", left=").concat(e)),s=setInterval(async()=>{t&&t.closed&&(await (0,a.JG)("/api/auth"),n.Am.success("Logged in successfully!"),clearInterval(s))},1e3)};r.ZP=()=>{let{data:e,isLoading:r,error:t}=(0,a.ZP)("/api/auth",s.Z);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:t||!e?null:e.user,admin:t||!e?null:e.admin,masterAdmin:!t&&!!e&&e.masterAdmin,isLoading:r}}},34400:function(e,r,t){"use strict";t.d(r,{k:function(){return l}});var n=t(57437),a=t(2265),s=t(59625),o=t(12600),i=t(63861);let l=(0,s.Ue)(e=>({modules:[],setModules:r=>e(()=>({modules:r,isLoading:!1})),isLoading:!0,setLoading:r=>e(()=>({isLoading:r}))}));r.Z=()=>{let{data:e,isLoading:r}=(0,i.ZP)("/api/modules",o.Z),t=l(e=>e.setModules),s=l(e=>e.setLoading);return(0,a.useEffect)(()=>{e&&(t(e),s(!1))},[e,r,t,s]),(0,n.jsx)(n.Fragment,{})}},65349:function(e,r,t){"use strict";t.d(r,{i:function(){return u}});var n=t(27520),a=t(8774),s=t(41193),o=t(59702),i=t(57437),l=(0,a.Gp)((e,r)=>{var t;let{as:a,className:l,children:u,...d}=e,c=(0,s.gy)(r),{slots:m,classNames:f}=(0,n.R)(),p=(0,o.W)(null==f?void 0:f.footer,l);return(0,i.jsx)(a||"div",{ref:c,className:null==(t=m.footer)?void 0:t.call(m,{class:p}),...d,children:u})});l.displayName="NextUI.CardFooter";var u=l},5216:function(e,r,t){"use strict";t.d(r,{j:function(){return u}});var n=t(27246),a=t(21422),s=t(2265),o=t(8774),i=t(57437),l=(0,o.Gp)((e,r)=>{let{Component:t,getDividerProps:o}=function(e){var r;let t,o;let{as:i,className:l,orientation:u,...d}=e,c=i||"hr";"hr"===c&&"vertical"===u&&(c="div");let{separatorProps:m}=(r={elementType:"string"==typeof c?c:"hr",orientation:u},o=(0,n.z)(r,{enabled:"string"==typeof r.elementType}),("vertical"===r.orientation&&(t="vertical"),"hr"!==r.elementType)?{separatorProps:{...o,role:"separator","aria-orientation":t}}:{separatorProps:o}),f=(0,s.useMemo)(()=>(0,a.q)({orientation:u,className:l}),[u,l]);return{Component:c,getDividerProps:(0,s.useCallback)((e={})=>({className:f,role:"separator","data-orientation":u,...m,...d,...e}),[f,u,m,d])}}({...e});return(0,i.jsx)(t,{ref:r,...o()})});l.displayName="NextUI.Divider";var u=l},73067:function(e,r,t){"use strict";t.d(r,{J:function(){return c}});var n=t(2265),a=t(8774),s=(0,t(51886).tv)({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]});function o(...e){for(var r,t,n=0,a="";n<e.length;)(r=e[n++])&&(t=function e(r){var t,n,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r))for(t=0;t<r.length;t++)r[t]&&(n=e(r[t]))&&(a&&(a+=" "),a+=n);else for(t in r)r[t]&&(a&&(a+=" "),a+=t)}return a}(r))&&(a&&(a+=" "),a+=t);return a}"undefined"!=typeof window&&window.document&&window.document.createElement;var i=e=>e?"true":void 0,l=t(37988),u=t(57437),d=(0,a.Gp)((e,r)=>{let{Component:t,domRef:d,slots:c,classNames:m,isBlurred:f,isZoomed:p,fallbackSrc:g,removeWrapper:h,disableSkeleton:v,getImgProps:b,getWrapperProps:w,getBlurredImgProps:x}=function(e){let[r,t]=(0,a.oe)(e,s.variantKeys),{ref:u,as:d,src:c,className:m,classNames:f,loading:p,isBlurred:g,fallbackSrc:h,isLoading:v,disableSkeleton:b=!!h,removeWrapper:w=!1,onError:x,onLoad:y,srcSet:j,sizes:N,crossOrigin:k,...P}=r,I=(0,l.d)({src:c,loading:p,onError:x,onLoad:y,ignoreFallback:!1,srcSet:j,sizes:N,crossOrigin:k}),z="loaded"===I&&!v,S="loading"===I||v,Z=e.isZoomed,C=function(e){let r=(0,n.useRef)(null);return(0,n.useImperativeHandle)(e,()=>r.current),r}(u),{w:M}=(0,n.useMemo)(()=>({w:r.width?"number"==typeof r.width?"".concat(r.width,"px"):r.width:"fit-content"}),[null==r?void 0:r.width]),A=(!c||!z)&&!!h,W=S&&!b,_=(0,n.useMemo)(()=>s({...t,showSkeleton:W}),[function(e){if(!e||"object"!=typeof e)return"";try{return JSON.stringify(e)}catch(e){return""}}(t),W]),E=o(m,null==f?void 0:f.img),L=(0,n.useCallback)(()=>{let e=A?{backgroundImage:"url(".concat(h,")")}:{};return{className:_.wrapper({class:null==f?void 0:f.wrapper}),style:{...e,maxWidth:M}}},[_,A,h,null==f?void 0:f.wrapper]),G=(0,n.useCallback)(()=>({src:c,"aria-hidden":i(!0),className:_.blurredImg({class:null==f?void 0:f.blurredImg})}),[_,c,null==f?void 0:f.blurredImg]);return{Component:d||"img",domRef:C,slots:_,classNames:f,isBlurred:g,disableSkeleton:b,fallbackSrc:h,removeWrapper:w,isZoomed:Z,isLoading:S,getImgProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o(E,null==e?void 0:e.className);return{src:c,ref:C,"data-loaded":i(z),className:_.img({class:r}),loading:p,srcSet:j,sizes:N,crossOrigin:k,...P}},getWrapperProps:L,getBlurredImgProps:G}}({...e,ref:r}),y=(0,u.jsx)(t,{ref:d,...b()});if(h)return y;let j=(0,u.jsx)("div",{className:c.zoomedWrapper({class:null==m?void 0:m.zoomedWrapper}),children:y});return f?(0,u.jsxs)("div",{...w(),children:[p?j:y,(0,n.cloneElement)(y,x())]}):p||!v||g?(0,u.jsxs)("div",{...w(),children:[" ",p?j:y]}):y});d.displayName="NextUI.Image";var c=d},21422:function(e,r,t){"use strict";t.d(r,{q:function(){return n}});var n=(0,t(51886).tv)({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}})},37988:function(e,r,t){"use strict";t.d(r,{d:function(){return s}});var n=t(2265),a=t(41681);function s(e={}){let{loading:r,src:t,srcSet:s,onLoad:o,onError:i,crossOrigin:l,sizes:u,ignoreFallback:d}=e,[c,m]=(0,n.useState)("pending");(0,n.useEffect)(()=>{m(t?"loading":"pending")},[t]);let f=(0,n.useRef)(),p=(0,n.useCallback)(()=>{if(!t)return;g();let e=new Image;e.src=t,l&&(e.crossOrigin=l),s&&(e.srcset=s),u&&(e.sizes=u),r&&(e.loading=r),e.onload=e=>{g(),m("loaded"),null==o||o(e)},e.onerror=e=>{g(),m("failed"),null==i||i(e)},f.current=e},[t,l,s,u,o,i,r]),g=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return(0,a.G)(()=>{if(!d)return"loading"===c&&p(),()=>{g()}},[c,p,d]),d?"loaded":c}}},function(e){e.O(0,[3416,384,9064,828,3022,5430,1087,4619,8811,4392,9297,2971,2117,1744],function(){return e(e.s=25956)}),_N_E=e.O()}]);