(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7908],{9035:function(e,t,n){Promise.resolve().then(n.bind(n,7409))},679:function(e,t,n){"use strict";var s=n(2412),i=n(165),r=n(5979),o=n(1402),a=n(4837);t.default=e=>{let{children:t,flags:n}=e,{admin:l,isLoading:u}=(0,a.ZP)(),c=(0,r.useRouter)();return(0,o.useEffect)(()=>{if(!u&&(!l||n.length>0&&!n.some(e=>{var t;return null===(t=l.flags)||void 0===t?void 0:t.includes(e)})))return c.push("/")},[l,u,c,n]),u?(0,s.jsx)(i.c,{}):l?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)(s.Fragment,{children:"No Access"})}},4773:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var s=n(2412),i=n(5979),r=n(8365),o=n(3327),a=n(4837);t.default=()=>{let e=(0,i.usePathname)(),t=(0,i.useRouter)(),{admin:n}=(0,a.ZP)(),u=(null==n?void 0:n.flags)||[],c=l.filter(e=>e.permissions.some(e=>u.includes(e)));return(0,s.jsx)(r.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>t.push(e),items:c,children:e=>(0,s.jsx)(o.r,{title:e.title},e.path)})};let l=[{path:"/admin",title:"Statistics",permissions:["@web/root","@web/logs","@css/root","@web/stats"]},{path:"/admin/modules",title:"Modules",permissions:["@web/root","@css/root"]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},7409:function(e,t,n){"use strict";n.r(t);var s=n(2412),i=n(5979),r=n(4773),o=n(679),a=n(566);t.default=()=>{let e=(0,i.usePathname)(),t=r.r.find(t=>t.path===e);return(0,s.jsx)(o.default,{flags:(null==t?void 0:t.permissions)||[],children:(0,s.jsx)(a.default,{type:"MANAGE"})})}},6198:function(e,t,n){"use strict";var s=n(2412),i=n(3733),r=n(9940),o=n(2876),a=n(4226),l=n(2167),u=n(8751);t.Z=e=>{let{open:t,children:n,action:c,handleClose:d,isLoading:m,actionText:p}=e;return(0,s.jsx)(i.R,{isOpen:t,onOpenChange:!m&&d||void 0,classNames:{backdrop:"z-[20000]",wrapper:"z-[20000]"},children:(0,s.jsx)(r.A,{children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.k,{className:"flex flex-col gap-1",children:"Confirmation"}),(0,s.jsx)(a.I,{children:n}),(0,s.jsxs)(l.R,{children:[(0,s.jsx)(u.A,{color:"primary",variant:"light",onPress:e,isLoading:m,children:"Cancel"}),(0,s.jsx)(u.A,{color:"primary",onPress:c,isLoading:m,children:p||"Confirm"})]})]})})})}},7449:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(2412),i=n(3390),r=n(9646),o=n(4690),a=n(1402),l=(e,t)=>{(0,a.useEffect)(()=>{let n=n=>{let s=null==e?void 0:e.current;!s||(null==s?void 0:s.contains(n.target))||t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])},u=n(1225),c=n(4837),d=e=>{let{open:t,x:n,y:d,handleCloseMenu:m,items:p}=e,h=(0,a.useRef)(null);l(h,m);let{admin:f}=(0,c.ZP)(),g=null==f?void 0:f.flags,b=p.map(e=>{let{category:t,items:n}=e;return{category:t,items:n.filter(e=>{let{flags:t}=e;return!t||t.some(e=>null==g?void 0:g.includes(e))})}});return t&&(0,s.jsx)(u.E.div,{className:"w-full max-w-[260px] border-small px-1 py-0.5 rounded-small bg-background/40 backdrop-blur-lg border-default-200 absolute z-[20000]",style:{left:n,top:d},ref:h,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.08},children:(0,s.jsx)(i.X,{variant:"flat","aria-label":"Listbox menu with sections",items:p,children:b.map(e=>{let{category:t,items:n}=e;return(0,s.jsx)(r.y,{title:t,children:n.map(e=>{let{key:t,description:n,icon:i,color:r,onClick:a}=e;return(0,s.jsx)(o.R,{description:(0,s.jsx)("span",{className:"text-foreground-700",children:n}),startContent:(0,s.jsx)(i,{}),color:r||"default",onClick:()=>{a&&a(),m()},children:t},t)})},t)})})})}},1920:function(e,t,n){"use strict";var s=n(52);t.Z=e=>s.Z.get(e).then(e=>e.data)},8601:function(e,t){"use strict";t.Z=e=>{let t=e?new Date(e):new Date;return t.toLocaleDateString()+" - "+t.toLocaleTimeString()}},4837:function(e,t,n){"use strict";n.d(t,{hY:function(){return a},jc:function(){return l}});var s=n(5414),i=n(1281),r=n(1920),o=n(52);let a=async()=>{await (0,o.Z)("/api/auth/logout"),await (0,i.JG)("/api/auth"),s.Am.success("Logged out successfully")},l=()=>{let e=window.innerWidth/2-300,t=window.innerHeight/2-400,n=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(t,", left=").concat(e)),r=setInterval(async()=>{n&&n.closed&&(await (0,i.JG)("/api/auth"),s.Am.success("Logged in successfully!"),clearInterval(r))},1e3)};t.ZP=()=>{let{data:e,isLoading:t,error:n}=(0,i.ZP)("/api/auth",r.Z);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:n||!e?null:e.user,admin:n||!e?null:e.admin,isLoading:t}}},4643:function(e,t,n){"use strict";var s=n(1402);t.Z=()=>{let[e,t]=(0,s.useState)({open:!1,x:0,y:0,info:void 0});return{x:e.x,y:e.y,open:e.open,handleCloseMenu:()=>{t({...e,open:!1})},handleOpen:(e,n)=>{e.preventDefault();let{pageX:s,pageY:i}=e;t({open:!0,x:s,y:i,info:n})},info:e.info}}}},function(e){e.O(0,[687,2879,9208,1281,5414,6187,2163,1094,3806,5440,8663,5226,5204,3182,5522,9097,1973,5396,2364,566,3866,7416,1744],function(){return e(e.s=9035)}),_N_E=e.O()}]);