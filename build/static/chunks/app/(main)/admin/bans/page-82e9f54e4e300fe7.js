(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7908],{71349:function(e,t,n){Promise.resolve().then(n.bind(n,52660))},42858:function(e,t,n){"use strict";var s=n(97699),i=n(84340),r=n(779),o=n(95320),a=n(21685);t.default=e=>{let{children:t,flags:n}=e,{admin:l,isLoading:u}=(0,a.ZP)(),c=(0,r.useRouter)();return(0,o.useEffect)(()=>{if(!u&&(!l||n.length>0&&!n.some(e=>{var t;return null===(t=l.flags)||void 0===t?void 0:t.includes(e)})))return c.push("/")},[l,u,c,n]),u?(0,s.jsx)(i.c,{}):l?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)(s.Fragment,{children:"No Access"})}},48411:function(e,t,n){"use strict";n.d(t,{r:function(){return u}});var s=n(97699),i=n(43201),r=n(779),o=n(10701),a=n(29850),l=n(21685);t.default=()=>{let e=(0,r.usePathname)(),t=(0,r.useRouter)(),{admin:n}=(0,l.ZP)(),c=(null==n?void 0:n.flags)||[],d=(0,i.k)(e=>e.modules),m=u.filter(e=>e.permissions.some(e=>c.includes(e))).filter(e=>{if(e.module){let t=d.find(t=>t.identifier===e.module);if(!t||!t.enabled)return!1}return!0});return(0,s.jsx)(o.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>t.push(e),items:m,children:e=>(0,s.jsx)(a.r,{title:e.title},e.path)})};let u=[{path:"/admin",title:"Statistics",permissions:["@web/root","@web/logs","@css/root","@web/stats"]},{path:"/admin/modules",title:"Modules",permissions:["@web/root","@css/root"]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers","@web/rcon"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/advertisements",title:"Advertisements (module)",permissions:["@web/root","@css/root","@web/logs"],module:"advertisements"},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},52660:function(e,t,n){"use strict";n.r(t);var s=n(97699),i=n(779),r=n(48411),o=n(42858),a=n(45635);t.default=()=>{let e=(0,i.usePathname)(),t=r.r.find(t=>t.path===e);return(0,s.jsx)(o.default,{flags:(null==t?void 0:t.permissions)||[],children:(0,s.jsx)(a.default,{type:"MANAGE"})})}},33534:function(e,t,n){"use strict";var s=n(97699),i=n(17298),r=n(38778),o=n(24240),a=n(30342),l=n(53926),u=n(44921);t.Z=e=>{let{open:t,children:n,action:c,handleClose:d,isLoading:m,actionText:p}=e;return(0,s.jsx)(i.R,{isOpen:t,onOpenChange:!m&&d||void 0,classNames:{backdrop:"z-[20000]",wrapper:"z-[20000]"},children:(0,s.jsx)(r.A,{children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.k,{className:"flex flex-col gap-1",children:"Confirmation"}),(0,s.jsx)(a.I,{children:n}),(0,s.jsxs)(l.R,{children:[(0,s.jsx)(u.A,{color:"primary",variant:"light",onPress:e,isLoading:m,children:"Cancel"}),(0,s.jsx)(u.A,{color:"primary",onPress:c,isLoading:m,children:p||"Confirm"})]})]})})})}},8444:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(97699),i=n(47872),r=n(15340),o=n(93914),a=n(25885),l=n(95320),u=(e,t)=>{(0,l.useEffect)(()=>{let n=n=>{let s=null==e?void 0:e.current;!s||(null==s?void 0:s.contains(n.target))||t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])},c=n(21685),d=e=>{let{open:t,x:n,y:d,handleCloseMenu:m,items:p}=e,f=(0,l.useRef)(null);u(f,m);let{admin:h}=(0,c.ZP)(),g=null==h?void 0:h.flags,b=p.map(e=>{let{category:t,items:n}=e;return{category:t,items:n.filter(e=>{let{flags:t}=e;return!t||t.some(e=>null==g?void 0:g.includes(e))})}});return t&&(0,s.jsx)(a.E.div,{className:"w-full max-w-[260px] border-small px-1 py-0.5 rounded-small bg-background/40 backdrop-blur-lg border-default-200 absolute z-[20000]",style:{left:n,top:d},ref:f,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.08},"aria-label":"Context menu",children:(0,s.jsx)(i.X,{variant:"flat","aria-label":"Listbox menu with sections",items:p,children:b.map(e=>{let{category:t,items:n}=e;return(0,s.jsx)(r.y,{title:t,"aria-label":t,children:n.map(e=>{let{key:t,description:n,icon:i,color:r,onClick:a}=e;return(0,s.jsx)(o.R,{description:(0,s.jsx)("span",{className:"text-foreground-700",children:n}),startContent:(0,s.jsx)(i,{"aria-label":t}),color:r||"default",onClick:()=>{a&&a(),m()},"aria-label":t,children:t},t)})},t)})})})}},74464:function(e,t,n){"use strict";var s=n(63357);t.Z=e=>s.Z.get(e).then(e=>e.data)},35826:function(e,t){"use strict";t.Z=e=>{let t=e?new Date(e):new Date;return t.toLocaleDateString()+" - "+t.toLocaleTimeString()}},21685:function(e,t,n){"use strict";n.d(t,{hY:function(){return a},jc:function(){return l}});var s=n(83050),i=n(77926),r=n(74464),o=n(63357);let a=async()=>{await (0,o.Z)("/api/auth/logout"),await (0,i.JG)("/api/auth"),s.Am.success("Logged out successfully")},l=()=>{let e=window.innerWidth/2-300,t=window.innerHeight/2-400,n=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(t,", left=").concat(e)),r=setInterval(async()=>{n&&n.closed&&(await (0,i.JG)("/api/auth"),s.Am.success("Logged in successfully!"),clearInterval(r))},1e3)};t.ZP=()=>{let{data:e,isLoading:t,error:n}=(0,i.ZP)("/api/auth",r.Z);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:n||!e?null:e.user,admin:n||!e?null:e.admin,masterAdmin:!n&&!!e&&e.masterAdmin,isLoading:t}}},94302:function(e,t,n){"use strict";var s=n(95320);t.Z=()=>{let[e,t]=(0,s.useState)({open:!1,x:0,y:0,info:void 0});return{x:e.x,y:e.y,open:e.open,handleCloseMenu:()=>{t({...e,open:!1})},handleOpen:(e,n)=>{e.preventDefault();let{pageX:s,pageY:i}=e;t({open:!0,x:s,y:i,info:n})},info:e.info}}},43201:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var s=n(97699),i=n(95320),r=n(53733),o=n(74464),a=n(77926);let l=(0,r.Ue)(e=>({modules:[],setModules:t=>e(()=>({modules:t,isLoading:!1})),isLoading:!0,setLoading:t=>e(()=>({isLoading:t}))}));t.Z=()=>{let{data:e,isLoading:t}=(0,a.ZP)("/api/modules",o.Z),n=l(e=>e.setModules),r=l(e=>e.setLoading);return(0,i.useEffect)(()=>{e&&(n(e),r(!1))},[e,t,n,r]),(0,s.jsx)(s.Fragment,{})}}},function(e){e.O(0,[7999,6323,3050,5134,4921,7084,4986,4388,7157,430,5259,6947,7062,9914,9485,2510,2250,3719,8166,2265,3558,285,5635,8129,8106,1744],function(){return e(e.s=71349)}),_N_E=e.O()}]);