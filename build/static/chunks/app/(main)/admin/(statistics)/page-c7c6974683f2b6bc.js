(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9589],{9159:function(e,s,r){Promise.resolve().then(r.bind(r,9314))},9314:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return D}});var t=r(2412),a=r(7284),i=r(2409),l=r(593),n=r(165),o=r(2155),c=e=>{let s=new Date,r=[];for(let t=0;t<e;t++){let e=new Date(s.getTime()-864e5*t).toISOString().slice(0,10);r.push(e)}return r.reverse()},d=r(3709),h=r(5378);let m="hsl(var(--css-primary))",u="hsl(var(--css-secondary))";var v={chart:{id:"views-area-chart",foreColor:"#ccc",fontFamily:"inherit",animations:{enabled:!0,easing:"easeout",dynamicAnimation:{speed:700}},dropShadow:{enabled:!0,opacity:.1,blur:5,left:-7,top:22},toolbar:{show:!1}},xaxis:{axisTicks:{color:"#333"},axisBorder:{color:"#333"}},yaxis:{min:0,tickAmount:10},stroke:{curve:"smooth"},colors:[m,u],fill:{colors:[m,u],type:"gradient",gradient:{shadeIntensity:0,opacityFrom:.1,opacityTo:0}},markers:{size:5,hover:{size:7}},dataLabels:{style:{colors:[m]}}};let x=(0,h.default)(()=>Promise.all([r.e(9061),r.e(5613)]).then(r.bind(r,5613)),{loadableGenerated:{webpack:()=>[5613]},ssr:!1});var p=e=>{let{categories:s,data:r,isLoading:a,height:i,options:l}=e,{theme:o,systemTheme:c}=(0,d.F)(),h={tooltip:{theme:(null==o?void 0:o.split("-")[0])||c}},m={...v,...l,...h,xaxis:{categories:s}};return a?(0,t.jsx)(n.c,{}):(0,t.jsx)("div",{className:"relative text-foreground-500",children:(0,t.jsx)(x,{options:m,series:r,type:"area",width:"100%",maxWidth:"100%",height:i})})};let y=(0,r(2160).Ue)(e=>({serversMode:"ALL",setServersMode:s=>e({serversMode:s}),servers:[],setServers:s=>e({servers:s}),days:"3",setDays:s=>e({days:s})}));var f=r(976),j=r(5746),b=r(3050),g=r(2558),S=r(8365),w=r(3327),L=r(8751),A=r(889),k=r(1920),E=r(1281),N=()=>{let{data:e}=(0,E.ZP)("/api/servers",k.Z),s=y(e=>e.days),r=y(e=>e.setDays),a=y(e=>e.serversMode),i=y(e=>e.setServersMode),l=y(e=>e.servers),n=y(e=>e.setServers);return(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsx)(A.Y,{label:"Days",labelPlacement:"outside-left",size:"sm",width:30,min:1,max:365,type:"number",variant:"faded",color:"secondary",value:s,onValueChange:r}),(0,t.jsxs)(S.n,{"aria-label":"Servers",selectedKey:a,onSelectionChange:e=>{i(e),"ALL"===e&&n([])},color:"primary",children:[(0,t.jsx)(w.r,{title:"All servers"},"ALL"),(0,t.jsx)(w.r,{title:"Selected servers"},"SELECTED")]}),(0,t.jsxs)(f.F,{children:[(0,t.jsx)(j.S,{children:(0,t.jsxs)(L.A,{isDisabled:!e||"ALL"===a,color:"primary",size:"sm",children:["Servers: ",l.length]})}),(0,t.jsx)(b.a,{"aria-label":"Servers",items:e,closeOnSelect:!1,selectionMode:"multiple",selectedKeys:new Set([...null!=l?l:[]]),onSelectionChange:e=>n(Array.from(e)),disallowEmptySelection:!0,children:e=>(0,t.jsx)(g.W,{id:e.id.toString(),color:"default",children:e.hostname},e.id)})]})]})},C=()=>{let e=y(e=>e.serversMode),s=y(e=>e.servers),r=y(e=>e.days),[d]=(0,o.Nr)(r,500),h=c(parseInt(r)),{data:m,isLoading:u,mutate:v}=(0,E.ZP)("/api/admin/statistics?days=".concat(parseInt(d),"&servers=").concat("ALL"===e?"ALL":s.join(",")),k.Z);return(0,t.jsxs)(a.w,{children:[(0,t.jsxs)(i.u,{className:"text-2xl font-medium flex flex-row justify-between",children:["Servers Entries",(0,t.jsx)(N,{})]}),(0,t.jsx)(l.G,{children:u?(0,t.jsxs)("div",{className:"flex items-center gap-4 justify-center min-h-unit-10",children:[(0,t.jsx)(n.c,{size:"sm"})," Loading data..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{height:300,categories:h,data:[{data:null==m?void 0:m.servers.map(e=>e.number),name:"Entries"}]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Advanced statistics and features such as searching for players by IP, SteamId, date, etc. will be available as a separate module in the future."})]})})]})},D=()=>(0,t.jsx)(C,{})},1920:function(e,s,r){"use strict";var t=r(52);s.Z=e=>t.Z.get(e).then(e=>e.data)}},function(e){e.O(0,[687,2879,9208,1281,6187,2163,1094,5204,6116,2761,5284,7615,3866,7416,1744],function(){return e(e.s=9159)}),_N_E=e.O()}]);