(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8793],{7473:function(e,a,s){Promise.resolve().then(s.bind(s,3809))},7512:function(e,a,s){"use strict";s.r(a);var t=s(1840),l=s(7917),n=s(1318),i=s(4740),r=s(646);a.default=e=>{let{children:a,flags:s}=e,{admin:o,isLoading:d}=(0,r.ZP)(),c=(0,n.useRouter)();return(0,i.useEffect)(()=>{if(!d){if(!o)return c.push("/");if(s.length>0&&!s.some(e=>{var a;return null===(a=o.flags)||void 0===a?void 0:a.includes(e)}))return c.push("/admin")}},[o,d,c,s]),d?(0,t.jsx)(l.c,{}):o?(0,t.jsx)(t.Fragment,{children:a}):(0,t.jsx)(t.Fragment,{children:"No Access"})}},8136:function(e,a,s){"use strict";s.r(a),s.d(a,{ADMIN_TABS:function(){return r}});var t=s(1840),l=s(1318),n=s(994),i=s(986);a.default=()=>{let e=(0,l.usePathname)(),a=(0,l.useRouter)();return(0,t.jsx)(n.n,{"aria-label":"Admin-tabs",selectedKey:e,onSelectionChange:e=>a.push(e),items:r,children:e=>(0,t.jsx)(i.r,{title:e.title},e.path)})};let r=[{path:"/admin",title:"Statistics",permissions:[]},{path:"/admin/admins",title:"Manage Admins",permissions:["@web/root","@css/root","@web/admins"]},{path:"/admin/servers",title:"Manage Servers",permissions:["@web/root","@css/root","@web/servers"]},{path:"/admin/bans",title:"Manage Bans",permissions:["@web/root","@css/root","@web/bans"]},{path:"/admin/mutes",title:"Manage Mutes",permissions:["@web/root","@css/root","@web/mutes"]},{path:"/admin/logs",title:"Logs",permissions:["@web/root","@css/root","@web/logs"]},{path:"/admin/settings",title:"Panel Settings",permissions:["@web/root","@css/root"]}]},3809:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return W}});var t=s(1840),l=s(7917),n=s(2573),i=s(994),r=s(986),o=s(5458),d=s(673),c=s(1070),u=s(776),g=s(4740),m=s(1318),h=s(8136),p=s(712),b=s(513);let x=(0,s(8787).Ue)(e=>({settings:(0,b.R)(),setSettings:a=>e({settings:a}),isFormLoading:!1,setIsFormLoading:a=>e({isFormLoading:a})}));var f=s(917),v=s(175),w=s(1916),j=e=>{try{return new URL(e),!0}catch(e){return!1}},y=s(7463),C=s(9177),F=s(9174),E=s(6840),S=e=>{let{label:a,description:s,value:l,onChange:n,disabled:i}=e;return(0,t.jsx)(F.i,{classNames:{base:(0,E.cn)("inline-flex flex-row-reverse w-full max-w-md bg-content1 hover:bg-content2 items-center","justify-between cursor-pointer rounded-lg gap-2 p-4 border-2 border-transparent","data-[selected=true]:border-primary"),wrapper:"p-0 h-4 overflow-visible",thumb:(0,E.cn)("w-6 h-6 border-2 shadow-lg","group-data-[hover=true]:border-primary","group-data-[selected=true]:ml-6","group-data-[pressed=true]:w-7","group-data-[selected]:group-data-[pressed]:ml-4")},isSelected:l,onValueChange:n,disabled:i,children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-medium",children:a}),s&&(0,t.jsx)("p",{className:"text-tiny text-default-400",children:s})]})})},D=s(9297),A=s(2097),N=s(4838),L=s(4429),k=e=>{let{value:a,setValue:s,lang:l,example:i,disabled:r,label:o}=e;return(0,t.jsxs)("div",{className:"relative w-full h-full flex flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-xl font-medium mb-2",children:o}),(0,t.jsx)(L.ZP,{height:400,defaultLanguage:l,className:"!rounded-md overflow-hidden",theme:"vs-dark",value:a,onChange:!r&&s||(()=>{}),options:{inlineSuggest:{enabled:!0},fontSize:16,formatOnType:!0,autoClosingBrackets:"always",autoSurround:"languageDefined",automaticLayout:!0,autoIndent:"full",autoClosingQuotes:"always"}}),i&&(0,t.jsx)(u.A,{onClick:()=>{if(i){if(a&&""!==a.trim())return n.ZP.error("Editor must be empty to paste example");s(i)}},disabled:r,variant:"flat",color:"primary",children:"Paste Example"})]})},P=e=>{let{image:a,html:s,css:l}=e;return(0,t.jsxs)("div",{className:"h-72 overflow-hidden rounded-2xl",style:{backgroundImage:"url(".concat(a,")")},children:[(0,t.jsx)("div",{className:"h-full w-full flex flex-col justify-center items-center",dangerouslySetInnerHTML:{__html:s}}),(0,t.jsx)("style",{children:l})]})};let z=[{name:"English",value:"en"}],M=[{label:"SEO",content:()=>{let e=x(e=>e.settings),a=x(e=>e.setSettings),s=x(e=>e.isFormLoading);return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(y.Y,{label:"Website Title",value:e.title,onValueChange:s=>a({...e,title:s}),disabled:s}),(0,t.jsxs)("div",{className:"flex flex-row gap-8 items-center",children:[(0,t.jsx)(y.Y,{label:"Favicon URL",value:e.favicon,onValueChange:s=>a({...e,favicon:s}),disabled:s}),e.favicon&&j(e.favicon)&&(0,t.jsx)("img",{src:e.favicon,alt:"Favicon",className:"w-12"})]}),(0,t.jsx)(C.Y,{label:"Website Description",value:e.description,onValueChange:s=>a({...e,description:s}),disabled:s}),(0,t.jsx)(C.Y,{label:"Website Keywords",value:e.keywords,onValueChange:s=>a({...e,keywords:s}),description:"Separate each keyword with a comma",disabled:s}),(0,t.jsxs)("div",{className:"flex flex-row gap-8 items-center",children:[(0,t.jsx)(y.Y,{label:"Logo URL",value:e.logo,onValueChange:s=>a({...e,logo:s}),disabled:s}),e.logo&&j(e.logo)&&(0,t.jsx)("img",{src:e.logo,alt:"Logo",className:"h-12"})]})]})}},{label:"Servers",content:()=>{let e=x(e=>e.settings),a=x(e=>e.setSettings),s=x(e=>e.isFormLoading);return(0,t.jsx)("div",{className:"grid grid-cols-4 gap-6",children:(0,t.jsx)(S,{label:"Servers Grid",description:"Display the servers in a grid or list view (table) in the home page.",value:e.serversGrid,onChange:s=>a({...e,serversGrid:s}),disabled:s})})}},{label:"Panel",content:()=>{let e=x(e=>e.settings),a=x(e=>e.setSettings),s=x(e=>e.isFormLoading);return(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsx)(S,{label:"Show Admin Name",description:"Display the banned/muted admin name in the banned/muted list for non-admins (public) or only for admins.",value:e.showAdminName,onChange:s=>a({...e,showAdminName:s}),disabled:s}),(0,t.jsx)(A.g,{label:"Panel language",variant:"bordered",placeholder:"Select a language",selectedKeys:[e.language],className:"max-w-xs",onChange:s=>a({...e,language:s.target.value}),disabled:s,disallowEmptySelection:!0,children:z.map(e=>(0,t.jsx)(N.R,{value:e.value,children:e.name},e.value))})]})}},{label:"Design",content:()=>{let e=x(e=>e.settings),a=x(e=>e.setSettings),s=x(e=>e.isFormLoading);return(0,t.jsx)("div",{className:"flex flex-col gap-4",children:(0,t.jsx)(A.g,{label:"Panel theme",variant:"bordered",placeholder:"Select a theme",selectedKeys:[e.theme],className:"max-w-xs",onChange:s=>a({...e,theme:s.target.value}),disabled:s,disallowEmptySelection:!0,children:D.M.map(e=>(0,t.jsx)(N.R,{value:e.value,children:e.name},e.value))})})}},{label:"Header Design",content:()=>{let e=x(e=>e.settings),a=x(e=>e.setSettings),s=x(e=>e.isFormLoading);return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(y.Y,{label:"Header Image URL",value:e.headerImage,onValueChange:s=>a({...e,headerImage:s}),disabled:s,color:j(e.headerImage)?"success":"danger"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsx)(k,{label:"Header HTML",value:e.headerCodeHTML,setValue:s=>a({...e,headerCodeHTML:s}),disabled:s,example:'<h1 class="banner-title">Welcome!</h1>',lang:"html"}),(0,t.jsx)(k,{label:"Header CSS",value:e.headerCodeCSS,setValue:s=>a({...e,headerCodeCSS:s}),disabled:s,example:".banner-title {\n	color: #000000;\n	font-size: 32px;\n}",lang:"css"})]}),(0,t.jsx)("h2",{children:"Preview"}),(0,t.jsx)(P,{image:e.headerImage,html:e.headerCodeHTML,css:e.headerCodeCSS})]})}},{label:"Advanced Settings",content:()=>{var e;let a=x(e=>e.settings),s=x(e=>e.setSettings),l=x(e=>e.isFormLoading);return(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsx)(y.Y,{label:"Discord Webhook",value:a.discordWebhook,onValueChange:e=>s({...a,discordWebhook:e}),disabled:l,className:"col-span-4",color:(null===(e=a.discordWebhook)||void 0===e?void 0:e.includes("/api/webhooks/"))?"success":a.discordWebhook.length>0?"danger":"default"}),(0,t.jsx)(S,{label:"Enable early access features",description:"Get access to new features before they are released.",value:a.earlyAccessFeatures,onChange:e=>s({...a,earlyAccessFeatures:e}),disabled:l}),(0,t.jsx)(S,{label:"Debug Mode",description:"Get logs and errors in the console for debugging.",value:a.debugMode,onChange:e=>s({...a,debugMode:e}),disabled:l})]})}}];var B=s(7512),W=()=>{let{data:e,isLoading:a}=(0,f.ZP)("/api/admin/settings",v.Z),[s,b]=(0,p.v1)("tab"),j=x(e=>e.settings),y=x(e=>e.setSettings);(0,g.useEffect)(()=>{e&&y(e)},[a,e,y]);let[C,F]=(0,g.useState)(!1),E=async()=>{if(e&&!a){F(!0);try{await w.Z.post("/api/admin/settings",j),await (0,f.JG)("/api/settings"),n.Am.success("Settings saved!")}catch(e){n.Am.error("Error saving settings!")}F(!1)}},S=M.find(e=>e.label.toLowerCase()===s)||M[0],D=S.content,A=(0,m.usePathname)(),N=h.ADMIN_TABS.find(e=>e.path===A);return(0,t.jsxs)(B.default,{flags:(null==N?void 0:N.permissions)||[],children:[(0,t.jsx)(i.n,{"aria-label":"Settings tabs",items:M,selectedKey:s,onSelectionChange:b,children:e=>(0,t.jsx)(r.r,{title:e.label},e.label.toLowerCase())}),(0,t.jsxs)(o.w,{children:[(0,t.jsx)(d.u,{className:"text-2xl font-medium",children:S.label}),(0,t.jsxs)(c.G,{children:[C?(0,t.jsx)(l.c,{}):(0,t.jsx)(D,{}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(u.A,{className:"mt-4",color:"danger",onClick:()=>e?y(e):void 0,isLoading:C||a,fullWidth:!0,children:"Reset Settings"}),(0,t.jsx)(u.A,{className:"mt-4",color:"primary",onClick:E,isLoading:C||a,fullWidth:!0,children:a||C?"Please wait...":"Save Changes"})]})]})]})]})}},9297:function(e,a,s){"use strict";s.d(a,{M:function(){return i},Z:function(){return r}});let t={primary:{50:"#e6f1fe",100:"#cce3fd",200:"#99c7fb",300:"#66aaf9",400:"#338ef7",500:"#006FEE",600:"#005bc4",700:"#004493",800:"#002e62",900:"#001731",DEFAULT:"#338ef7"},secondary:{50:"#F2EAFA",100:"#E4D4F4",200:"#C9A9E9",300:"#AE7EDE",400:"#9353D3",500:"#7828C8",600:"#6020A0",700:"#481878",800:"#301050",900:"#180828",DEFAULT:"#7828C8"}},l={primary:{50:"#FEF3D3",100:"#FEE3A7",200:"#FED07B",300:"#FED07B",400:"#FDBC5A",500:"#FC9D24",600:"#D87C1A",700:"#B55F12",800:"#92440B",900:"#783206",DEFAULT:"#FC9D24"},secondary:{50:"#FDF3D7",100:"#FDF3D7",200:"#FCE3B0",300:"#F6CD87",400:"#EEB667",500:"#E49438",600:"#C47428",700:"#A4581C",800:"#843E11",900:"#6D2D0A",DEFAULT:"#E49438"},focus:"#FC9D24"},n={primary:{50:"#127121",100:"#1F8927",200:"#31AA31",300:"#51CB47",400:"#77ED62",500:"#77ED62",600:"#A1F488",700:"#BCF9A1",800:"#D8FDC1",900:"#EEFEE0",DEFAULT:"#77ED62"},secondary:{50:"#05331B",100:"#05331B",200:"#14663C",300:"#14663C",400:"#2E9962",500:"#2E9962",600:"#52CC8D",700:"#52CC8D",800:"#80FFBD",900:"#80FFBD",DEFAULT:"#2E9962"},focus:"#40992E"},i=[{name:"Blue Purple",value:"bluePurple"},{name:"Orange",value:"orange"},{name:"Green",value:"green"}];var r={"light-bluePurple-theme":{extend:"light",colors:t,layout:{disabledOpacity:"0.3",radius:{small:"4px",medium:"6px",large:"8px"},borderWidth:{small:"1px",medium:"2px",large:"3px"}}},"dark-bluePurple-theme":{extend:"dark",colors:t,layout:{disabledOpacity:"0.3",radius:{small:"4px",medium:"6px",large:"8px"},borderWidth:{small:"1px",medium:"2px",large:"3px"}}},"light-orange-theme":{extend:"light",colors:l},"dark-orange-theme":{extend:"dark",colors:l},"light-green-theme":{extend:"light",colors:n,layout:{disabledOpacity:"0.3",radius:{small:"4px",medium:"6px",large:"8px"},borderWidth:{small:"1px",medium:"2px",large:"3px"}}},"dark-green-theme":{extend:"dark",colors:n,layout:{disabledOpacity:"0.3",radius:{small:"4px",medium:"6px",large:"8px"},borderWidth:{small:"1px",medium:"2px",large:"3px"}}}}},175:function(e,a,s){"use strict";var t=s(1916);a.Z=e=>t.Z.get(e).then(e=>e.data)},646:function(e,a,s){"use strict";s.d(a,{hY:function(){return r},jc:function(){return o}});var t=s(2573),l=s(917),n=s(175),i=s(1916);let r=async()=>{await (0,i.Z)("/api/auth/logout"),await (0,l.JG)("/api/auth"),t.Am.success("Logged out successfully")},o=()=>{let e=window.innerWidth/2-300,a=window.innerHeight/2-400,s=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(a,", left=").concat(e)),n=setInterval(async()=>{s&&s.closed&&(await (0,l.JG)("/api/auth"),t.Am.success("Logged in successfully!"),clearInterval(n))},1e3)};a.ZP=()=>{let{data:e,isLoading:a,error:s}=(0,l.ZP)("/api/auth",n.Z);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:s||!e?null:e.user,admin:s||!e?null:e.admin,isLoading:a}}},513:function(e,a,s){"use strict";s.d(a,{R:function(){return i}});var t=s(9297),l=s(1326);let n=l.z.object({title:l.z.string().optional().default("CSS-Panel"),description:l.z.string().optional().default(""),keywords:l.z.string().optional().default("gaming, cs2"),favicon:l.z.string().optional().default(""),theme:l.z.string().default(t.M[0].value),logo:l.z.string().optional().default(""),debugMode:l.z.boolean().optional().default(!1),headerImage:l.z.string().optional().default("https://prosettings.net/wp-content/uploads/inferno-in-cs2-2.jpg"),headerCodeHTML:l.z.string().optional().default(""),headerCodeCSS:l.z.string().optional().default(""),earlyAccessFeatures:l.z.boolean().optional().default(!1),serversGrid:l.z.boolean().optional().default(!0),showAdminName:l.z.boolean().optional().default(!1),language:l.z.string().optional().default("en"),discordWebhook:l.z.string().optional().default("")}),i=()=>n.parse({})}},function(e){e.O(0,[1356,298,3277,4594,2150,5792,2298,7819,8176,9869,2097,2438,7942,1784,1744],function(){return e(e.s=7473)}),_N_E=e.O()}]);