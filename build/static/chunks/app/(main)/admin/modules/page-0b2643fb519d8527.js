(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9899],{6631:function(e,l,s){Promise.resolve().then(s.bind(s,1457))},679:function(e,l,s){"use strict";var n=s(2412),i=s(165),a=s(5979),t=s(1402),c=s(4837);l.default=e=>{let{children:l,flags:s}=e,{admin:r,isLoading:d}=(0,c.ZP)(),o=(0,a.useRouter)();return(0,t.useEffect)(()=>{if(!d&&(!r||s.length>0&&!s.some(e=>{var l;return null===(l=r.flags)||void 0===l?void 0:l.includes(e)})))return o.push("/")},[r,d,o,s]),d?(0,n.jsx)(i.c,{}):r?(0,n.jsx)(n.Fragment,{children:l}):(0,n.jsx)(n.Fragment,{children:"No Access"})}},1457:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return C}});var n=s(2412),i=s(165),a=s(3733),t=s(9940),c=s(2876),r=s(4226),d=s(1670),o=s(8751),u=s(2160);let m=(0,u.Ue)(e=>({moduleId:null,setModuleId:l=>e({moduleId:l})}));var h=s(1920),x=s(1281),f=s(6418),p=()=>{let{data:e}=(0,x.ZP)("/api/admin/modules",h.Z),l=m(e=>e.moduleId),s=m(e=>e.setModuleId),i=(null==e?void 0:e.find(e=>e.identifier===l))||null,u={FREE:null!=i&&!!i.paymentCycle.includes("FREE"),TRIAL:null!=i&&!!i.paymentCycle.includes("TRIAL"),MONTHLY:null!=i&&!!i.paymentCycle.includes("MONTHLY")&&(null==i?void 0:i.monthlyPrice),YEARLY:null!=i&&!!i.paymentCycle.includes("YEARLY")&&(null==i?void 0:i.yearlyPrice),ONE_TIME:null!=i&&!!i.paymentCycle.includes("ONE_TIME")&&(null==i?void 0:i.price)};return(0,n.jsx)(a.R,{isOpen:!!i,onOpenChange:()=>s(null),size:"2xl",children:(0,n.jsx)(t.A,{children:e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.k,{className:"flex flex-col gap-1",children:[null==i?void 0:i.name," module information"]}),(0,n.jsx)(r.I,{children:(0,n.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,n.jsx)("p",{className:"mb-6 text-foreground-600 whitespace-pre-wrap",children:null==i?void 0:i.description}),(0,n.jsx)("span",{className:"font-semibold",children:"Payment cycles:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mb-6 text-foreground-600",children:Object.keys(u).map(e=>{if(u[e])return(0,n.jsx)(f.z,{children:"FREE"===e?"Free":"TRIAL"===e?"Trial":"MONTHLY"===e?"$".concat(u[e]," / Month"):"YEARLY"===e?"$".concat(u[e]," / Year"):"ONE_TIME"===e?"$".concat(u[e]," / One time"):""},e)})}),(0,n.jsxs)(o.A,{color:"primary",className:"mb-4",variant:"flat",onClick:e,fullWidth:!0,children:["Close ",(0,n.jsx)(d.Z,{size:20})]})]})})]})})})};let g=(0,u.Ue)(e=>({moduleId:null,setModuleId:l=>e({moduleId:l}),isLoading:!1,setIsLoading:l=>e({isLoading:l}),method:null,setMethod:l=>e({method:l}),handleClose:()=>e({moduleId:null,isLoading:!1})}));var y=s(8365),j=s(3327),E=s(52),N=s(5414),v=()=>{let{data:e}=(0,x.ZP)("/api/admin/modules",h.Z),l=g(e=>e.moduleId),s=g(e=>e.isLoading),i=g(e=>e.setIsLoading),u=g(e=>e.handleClose),m=g(e=>e.method),f=g(e=>e.setMethod),p=(null==e?void 0:e.find(e=>e.identifier===l))||null,v={FREE:null!=p&&!!p.paymentCycle.includes("FREE"),TRIAL:null!=p&&!!p.paymentCycle.includes("TRIAL"),MONTHLY:null!=p&&!!p.paymentCycle.includes("MONTHLY")&&(null==p?void 0:p.monthlyPrice),YEARLY:null!=p&&!!p.paymentCycle.includes("YEARLY")&&(null==p?void 0:p.yearlyPrice),ONE_TIME:null!=p&&!!p.paymentCycle.includes("ONE_TIME")&&(null==p?void 0:p.price)},L=async()=>{if(m&&!s){i(!0);try{let e=await E.Z.post("/api/admin/modules",{moduleId:l,method:m});200===e.status&&(window.location.href=e.data),201===e.status&&N.ZP.success("Module activated successfully")}catch(e){console.error(e)}finally{i(!1)}}};return(0,n.jsx)(a.R,{isOpen:!!p,onOpenChange:u,size:"lg",children:(0,n.jsx)(t.A,{children:e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.k,{className:"flex flex-col gap-1",children:["Get ",null==p?void 0:p.name," module"]}),(0,n.jsx)(r.I,{children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-foreground-600",children:"Choose your preferred payment cycle"}),(0,n.jsx)(y.n,{"aria-label":"Servers",selectedKey:m,onSelectionChange:f,isDisabled:s,variant:"bordered",color:"secondary",fullWidth:!0,children:Object.keys(v).map(e=>{if(v[e])return(0,n.jsx)(j.r,{title:"FREE"===e?"Free":"TRIAL"===e?"Trial":"MONTHLY"===e?"$".concat(v[e]," / Month"):"YEARLY"===e?"$".concat(v[e]," / Year"):"ONE_TIME"===e?"$".concat(v[e]," / One time"):""},e)})}),(0,n.jsxs)("p",{className:"my-6",children:["The payment will be processed through PayPal. You can cancel your subscription at any time through your PayPal account.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"- Monthly and yearly subscriptions will be automatically renewed unless canceled, the module will be active as long as the subscription is active.",(0,n.jsx)("br",{}),"- One-time payments will give you lifetime access to the module."]}),(0,n.jsxs)(o.A,{color:"primary",isLoading:s,onClick:L,fullWidth:!0,children:["Get ",null==p?void 0:p.name," module",(0,n.jsx)(d.Z,{size:20})]}),(0,n.jsx)(o.A,{color:"default",className:"mb-4",variant:"flat",isLoading:s,onClick:e,fullWidth:!0,children:"Cancel"})]})})]})})})},L=s(679),b=s(9235),A=s(1288),I=s(8437),w=s(7284),M=s(593),Y=s(8312),O=s(1402),T=s(3806),R=e=>{let{name:l,description:s,identifier:i,paymentCycle:a,version:t,monthlyPrice:c,price:r,yearlyPrice:u,enabled:h,license:x,showcase:p}=e,v=g(e=>e.setModuleId),L=m(e=>e.setModuleId),[R,C]=(0,O.useState)(h?"ENABLED":"DISABLED"),[Z,P]=(0,O.useState)(!1),F=async e=>{if(!Z){P(!0),C(e);try{await E.Z.put("/api/admin/modules/".concat(i),{status:e}),N.ZP.success("Module status changed successfully.")}catch(e){console.error(e),N.ZP.error("An error occurred while changing the module status.")}P(!1)}},z={FREE:!!a.includes("FREE"),TRIAL:!!a.includes("TRIAL"),MONTHLY:!!a.includes("MONTHLY")&&c,YEARLY:!!a.includes("YEARLY")&&u,ONE_TIME:!!a.includes("ONE_TIME")&&r};return(0,n.jsx)(w.w,{children:(0,n.jsxs)(M.G,{className:"grid grid-cols-12 gap-8 min-h-[200px]",children:[(0,n.jsx)(T.default,{className:"col-span-4",target:"_blank",href:"https://cdn.discordapp.com/attachments/1233975075728920687/1233975096813813842/image.png?ex=662f0c5d&is=662dbadd&hm=c15615eddd9fc568d558e7cd4079e2801ad041e2de5ffc8dc035d8600a99fbfe&",children:(0,n.jsx)(Y.J,{alt:l,className:"aspect-video w-full h-full object-cover bg-center",classNames:{wrapper:"h-full"},src:p,shadow:"md",height:"100%",width:"100%"})}),(0,n.jsxs)("div",{className:"col-span-8 flex flex-col gap-4 justify-between h-full",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("h3",{className:"text-3xl font-semibold",children:l}),(0,n.jsxs)("span",{className:"text-xs font-thin text-foreground",children:["Version ",t]}),(0,n.jsx)("p",{className:"text-sm text-foreground/80",children:s.slice(0,180)})]}),(0,n.jsxs)("div",{className:"flex justify-between items-end",children:[x?(0,n.jsxs)(o.A,{variant:"flat",size:"sm",children:[(0,n.jsx)(b.Z,{size:14}),"Settings"]}):(0,n.jsx)("div",{className:"flex gap-2 text-xs text-foreground/80",children:Object.keys(z).map(e=>{if(z[e])return(0,n.jsx)(f.z,{size:"sm",children:"FREE"===e?"Free":"TRIAL"===e?"Trial":"MONTHLY"===e?"$".concat(z[e]," / Month"):"YEARLY"===e?"$".concat(z[e]," / Year"):"ONE_TIME"===e?"$".concat(z[e]," / One time"):null},e)})}),x?(0,n.jsx)("div",{className:"flex gap-2 items-center",children:(0,n.jsxs)(y.n,{"aria-label":"Servers",selectedKey:R,color:"ENABLED"===R?"success":"danger",onSelectionChange:F,isDisabled:Z,variant:"solid",size:"sm",fullWidth:!0,children:[(0,n.jsx)(j.r,{title:(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(A.Z,{size:14}),"Disabled"]})},"DISABLED"),(0,n.jsx)(j.r,{title:(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(I.Z,{size:14}),"Enabled"]})},"ENABLED")]})}):(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(o.A,{variant:"flat",color:"secondary",onClick:()=>L(i),size:"sm",children:"More info"}),(0,n.jsxs)(o.A,{variant:"solid",color:"primary",onClick:()=>v(i),size:"sm",children:["Get module",(0,n.jsx)(d.Z,{size:14})]})]})]})]})]})})},C=()=>{let{data:e,isLoading:l}=(0,x.ZP)("/api/admin/modules",h.Z);return(0,n.jsx)(L.default,{flags:["@css/root","@web/root"],children:l?(0,n.jsx)(i.c,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e?e.map(e=>(0,n.jsx)(R,{...e},e.identifier)):(0,n.jsx)(n.Fragment,{children:"An error occurred while fetching the modules. Please try again later."})}),(0,n.jsx)(v,{}),(0,n.jsx)(p,{})]})})}},1920:function(e,l,s){"use strict";var n=s(52);l.Z=e=>n.Z.get(e).then(e=>e.data)},4837:function(e,l,s){"use strict";s.d(l,{hY:function(){return c},jc:function(){return r}});var n=s(5414),i=s(1281),a=s(1920),t=s(52);let c=async()=>{await (0,t.Z)("/api/auth/logout"),await (0,i.JG)("/api/auth"),n.Am.success("Logged out successfully")},r=()=>{let e=window.innerWidth/2-300,l=window.innerHeight/2-400,s=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(l,", left=").concat(e)),a=setInterval(async()=>{s&&s.closed&&(await (0,i.JG)("/api/auth"),n.Am.success("Logged in successfully!"),clearInterval(a))},1e3)};l.ZP=()=>{let{data:e,isLoading:l,error:s}=(0,i.ZP)("/api/auth",a.Z);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:s||!e?null:e.user,admin:s||!e?null:e.admin,isLoading:l}}}},function(e){e.O(0,[2186,1496,2879,5414,5194,3806,4560,5204,5338,3866,7416,1744],function(){return e(e.s=6631)}),_N_E=e.O()}]);