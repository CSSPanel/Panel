(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3221],{1542:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,mg:()=>o,vx:()=>s});var a=n(4394),r=n(4452),l=n(87031),i=n(59241);let s=async()=>{await (0,i.A)("/api/auth/logout"),await (0,r.Tk)("/api/auth"),a.oR.success("Logged out successfully")},o=()=>{let e=window.innerWidth/2-300,t=window.innerHeight/2-400,n=window.open("/api/auth/login/","","toolbar=no, location=no, directories=no, status=no, menubar=no, \n		  scrollbars=no, resizable=yes, copyhistory=no, width=".concat(600,", \n		  height=").concat(800,", top=").concat(t,", left=").concat(e)),l=setInterval(async()=>{n&&n.closed&&(await (0,r.Tk)("/api/auth"),a.oR.success("Logged in successfully!"),clearInterval(l))},1e3)},c=()=>{let{data:e,isLoading:t,error:n}=(0,r.Ay)("/api/auth",l.A);return e&&e.admin&&e.admin.group&&(e.admin.flags=e.admin.group.flags,e.admin.immunity=e.admin.group.immunity),{user:n||!e?null:e.user,admin:n||!e?null:e.admin,masterAdmin:!n&&!!e&&e.masterAdmin,isLoading:t}}},32243:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(75819),r=n(4980),l=n(1149),i=n(34789),s=n(30514),o=n(56027);let c=(e,t)=>{(0,o.useEffect)(()=>{let n=n=>{let a=null==e?void 0:e.current;!(!a||(null==a?void 0:a.contains(n.target)))&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])};var d=n(1542);let u=e=>{let{open:t,x:n,y:u,handleCloseMenu:m,items:p}=e,h=(0,o.useRef)(null);c(h,m);let{admin:g}=(0,d.Ay)(),f=null==g?void 0:g.flags,v=p.map(e=>{let{category:t,items:n}=e;return{category:t,items:n.filter(e=>{let{flags:t}=e;return!t||t.some(e=>null==f?void 0:f.includes(e))})}});return t&&(0,a.jsx)(s.P.div,{className:"w-full max-w-[260px] border-small px-1 py-0.5 rounded-small bg-background/40 backdrop-blur-lg border-default-200 absolute z-[20000]",style:{left:n,top:u},ref:h,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.08},"aria-label":"Context menu",children:(0,a.jsx)(r.K,{variant:"flat","aria-label":"Listbox menu with sections",items:p,children:v.map(e=>{let{category:t,items:n}=e;return(0,a.jsx)(l.K,{title:t,"aria-label":t,children:n.map(e=>{let{key:t,description:n,icon:r,color:l,onClick:s}=e;return(0,a.jsx)(i.y,{description:(0,a.jsx)("span",{className:"text-foreground-700",children:n}),startContent:(0,a.jsx)(r,{"aria-label":t}),color:l||"default",onClick:()=>{s&&s(),m()},"aria-label":t,children:t},t)})},t)})})})}},50580:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(75819),r=n(46777),l=n(88901),i=n(38245),s=n(88780),o=n(38512),c=n(93148);let d=e=>{let{open:t,children:n,action:d,handleClose:u,isLoading:m,actionText:p}=e;return(0,a.jsx)(r.Y,{isOpen:t,onOpenChange:!m&&u||void 0,classNames:{backdrop:"z-[20000]",wrapper:"z-[20000]"},children:(0,a.jsx)(l.g,{children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.c,{className:"flex flex-col gap-1",children:"Confirmation"}),(0,a.jsx)(s.h,{children:n}),(0,a.jsxs)(o.q,{children:[(0,a.jsx)(c.T,{color:"primary",variant:"light",onPress:e,isLoading:m,children:"Cancel"}),(0,a.jsx)(c.T,{color:"primary",onPress:d,isLoading:m,children:p||"Confirm"})]})]})})})}},73332:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(56027);let r=()=>{let[e,t]=(0,a.useState)({open:!1,x:0,y:0,info:void 0});return{x:e.x,y:e.y,open:e.open,handleCloseMenu:()=>{t({...e,open:!1})},handleOpen:(e,n)=>{e.preventDefault();let{pageX:a,pageY:r}=e;t({open:!0,x:a,y:r,info:n})},info:e.info}}},73867:(e,t,n)=>{Promise.resolve().then(n.bind(n,60778))},87031:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(59241);let r=e=>a.A.get(e).then(e=>e.data)},93110:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=e=>{let t=e?new Date(e):new Date;return t.toLocaleDateString()+" - "+t.toLocaleTimeString()}}},e=>{var t=t=>e(e.s=t);e.O(0,[4047,2446,4394,3148,7166,494,5168,7580,3695,4738,1737,9680,1837,6183,2626,9407,3165,8192,9026,4765,1894,778,6054,388,7358],()=>t(73867)),_N_E=e.O()}]);